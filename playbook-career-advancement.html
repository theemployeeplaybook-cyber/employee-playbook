<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Career Advancement Playbook | The Employee Playbook</title>

  <!-- ICONS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- FONTS -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="assets/img/favicon.png">
  <link rel="icon" type="image/png" href="assets/img/favicon.png">

  <style>
    :root {
      --primary-white: #FFFFFF;
      --light-gray: #F8F9FA;
      --medium-gray: #E9ECEF;
      --dark-gray: #6C757D;
      --text-dark: #212529;
      --text-medium: #495057;

      --accent-purple: #7B5FC4;
      --accent-purple-dark: #5A4496;
      --light-purple: #E6E0F5;
      --lighter-purple: #F0EBFA;

      --border-light: rgba(0, 0, 0, 0.08);
      --nav-bg: rgba(255, 255, 255, 0.95);
      --hero-bg: linear-gradient(135deg, #F9F6FF 0%, #F0EBFA 100%);
      --premium-gradient: linear-gradient(135deg, #7B5FC4 0%, #5A4496 100%);

      --danger-red: #ef4444;

      /* ===========================
         CATEGORY COLOURS (Canonical 9)
         =========================== */
      --category-clarity: #7B5FC4;       /* Workload Clarity & Direction */
      --category-burnout: #f59e0b;       /* Burnout & Capacity */
      --category-manager: #10b981;       /* Manager Behaviour */
      --category-politics: #3b82f6;      /* Workplace Dynamics & Politics */
      --category-team: #06b6d4;          /* Team Issues */
      --category-boundaries: #f97316;    /* Boundaries & Overextension */
      --category-hr: #6D28D9;            /* HR & Performance */
      --category-confidence: #ef4444;    /* Confidence & Influence */
      --category-career: #800020;        /* Decision Making & Career Path */

      /* ===========================
         PLAYBOOK UI (Premium)
         =========================== */
      --pb-surface: rgba(255,255,255,0.92);
      --pb-glass: rgba(255,255,255,0.72);
      --pb-shadow: 0 18px 60px rgba(17, 24, 39, 0.08);
      --pb-shadow-strong: 0 26px 90px rgba(17, 24, 39, 0.10);
      --pb-border: rgba(123, 95, 196, 0.16);
      --pb-ring: rgba(123,95,196,0.22);
      --pb-ring-rest: rgba(123,95,196,0.16);
      --pb-hero: radial-gradient(900px 380px at 12% 10%, rgba(123,95,196,0.24) 0%, rgba(123,95,196,0.00) 60%),
                 radial-gradient(800px 340px at 88% 22%, rgba(90,68,150,0.18) 0%, rgba(90,68,150,0.00) 58%),
                 linear-gradient(135deg, rgba(249,246,255,0.95) 0%, rgba(240,235,250,0.90) 100%);
      --pb-ink: #111827;
      --pb-muted: rgba(73, 80, 87, 0.92);
      --pb-chip: rgba(123, 95, 196, 0.10);
      --pb-chip-border: rgba(123, 95, 196, 0.22);
      --pb-success: #10b981;
      --pb-info: #3b82f6;
      --pb-warn: #f59e0b;

      /* HERO TITLE ICON SIZE (two-line H1) */
      --pb-title-icon-size: 88px; /* was 86px (10% smaller) */
      --pb-title-icon-gap: 0px;

      /* H1 two-line control */
      --pb-h1-line: 52px;
      --pb-h1-gap: 10px;
    }

    .dark-mode {
      --primary-white: #1a1a1a;
      --light-gray: #2a2a2a;
      --medium-gray: #3a3a3a;
      --dark-gray: #888888;
      --text-dark: #e0e0e0;
      --text-medium: #b0b0b0;

      --accent-purple: #9d86e9;
      --accent-purple-dark: #7b5fc4;
      --light-purple: rgba(123, 95, 196, 0.2);
      --lighter-purple: rgba(123, 95, 196, 0.1);

      --border-light: rgba(255, 255, 255, 0.08);
      --nav-bg: rgba(30, 30, 30, 0.95);
      --hero-bg: linear-gradient(135deg, #2a2a2a 0%, #1f1f1f 100%);
      --premium-gradient: linear-gradient(135deg, #9d86e9 0%, #7b5fc4 100%);

      /* CATEGORY COLOURS (Canonical 9) */
      --category-clarity: #9d86e9;
      --category-burnout: #fbbf24;
      --category-manager: #34d399;
      --category-politics: #60a5fa;
      --category-team: #22d3ee;
      --category-boundaries: #fb923c;
      --category-hr: #a78bfa;
      --category-confidence: #fb7185;
      --category-career: #B03060;

      /* PLAYBOOK UI */
      --pb-surface: rgba(20,20,20,0.78);
      --pb-glass: rgba(20,20,20,0.62);
      --pb-shadow: 0 18px 70px rgba(0,0,0,0.38);
      --pb-shadow-strong: 0 26px 96px rgba(0,0,0,0.46);
      --pb-border: rgba(157,134,233,0.20);
      --pb-ring: rgba(157,134,233,0.26);
      --pb-ring-rest: rgba(157,134,233,0.18);
      --pb-hero: radial-gradient(900px 380px at 12% 10%, rgba(157,134,233,0.22) 0%, rgba(157,134,233,0.00) 60%),
                 radial-gradient(800px 340px at 88% 22%, rgba(123,95,196,0.18) 0%, rgba(123,95,196,0.00) 58%),
                 linear-gradient(135deg, rgba(26,26,26,0.95) 0%, rgba(18,18,18,0.88) 100%);
      --pb-ink: #f3f4f6;
      --pb-muted: rgba(176, 176, 176, 0.92);
      --pb-chip: rgba(157,134,233,0.14);
      --pb-chip-border: rgba(157,134,233,0.28);
    }

    * { margin:0; padding:0; box-sizing:border-box; font-family:'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }

    body{
      background-color: var(--primary-white);
      color: var(--text-dark);
      line-height: 1.6;
      overflow-x: hidden;
      opacity: 0;
      transition: opacity 0.4s ease;
      min-height: 100vh;
    }
    body.loaded{ opacity:1; }
    .container{ max-width:1400px; margin:0 auto; padding:0 20px; }

    /* NAV (kept consistent) */
    nav{
      position: fixed; top:0; width:100%;
      background: var(--nav-bg);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      z-index:1000;
      border-bottom:1px solid var(--border-light);
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
      height:80px;
    }
    .nav-container{ display:flex; justify-content:space-between; align-items:center; padding:12px 0; height:100%; }
    .logo-img{ height:100px; width:auto; transform: translateX(20%); padding:14px 10px; display:block; min-height:100px; transition: all .3s ease; }
    .nav-links{ display:flex; gap:50px; }
    .nav-link{ color: var(--text-dark); text-decoration:none; font-weight:500; font-size:17px; transition: color .3s ease; }
    .nav-link:hover{ color: var(--accent-purple); }
    .nav-link-container{ position:relative; display:inline-block; }
    .new-tag{
      position:absolute; top:-12px; right:-35px;
      background: linear-gradient(135deg, #FFD700, #FFA500);
      color:#000; font-size:10px; font-weight:700; padding:2px 6px; border-radius:4px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2); white-space:nowrap;
    }
    .nav-actions{ display:flex; align-items:center; gap:24px; transform: translateX(-20%); }
    .header-cta{
      background: var(--accent-purple); color:#fff; padding:8px 20px; border-radius:50px;
      text-decoration:none; font-weight:600; font-size:14px;
      transition: all .3s ease; box-shadow: 0 5px 15px rgba(123,95,196,.3);
    }
    .header-cta:hover{ transform: translateY(-1px); box-shadow: 0 6px 16px rgba(123,95,196,.35); }
    .sign-in{ color: var(--text-dark); text-decoration:none; font-weight:500; font-size:17px; }
    .sign-in:hover{ color: var(--accent-purple); }
    .theme-toggle{
      background:none; border:none; color: var(--text-dark); cursor:pointer; font-size:16px;
      width:36px; height:36px; border-radius:50%;
      display:flex; align-items:center; justify-content:center;
      transition: background-color .3s ease;
    }
    .theme-toggle:hover{ background-color: var(--light-gray); }

    .mobile-toggle{
      display:none;
      background:none; border:none; color: var(--text-dark); cursor:pointer; font-size:24px;
      width:40px; height:40px; border-radius:50%;
      align-items:center; justify-content:center; transition: background-color .3s ease;
    }
    .mobile-toggle:hover{ background-color: var(--light-gray); }
    .mobile-sign-in, .mobile-sign-up { display:none; }

    @media (max-width: 768px){
      .nav-container{ justify-content:center; position:relative; }
      .logo{ position:absolute; left:50%; transform: translateX(-50%); display:flex; align-items:center; height:100%; }
      .logo-img{ height:125px; transform:none; padding:12px 0; }
      .mobile-toggle{ display:flex; position:absolute; left:20px; }
      .nav-actions{ transform:none; gap:16px; position:absolute; right:20px; }
      .nav-actions .sign-in, .nav-actions .header-cta{ display:none; }

      .nav-links{
        display:none; position:absolute; top:100%; left:0; width:100%;
        background: var(--nav-bg);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        flex-direction:column; padding:20px; gap:20px;
        border-top: 1px solid var(--border-light);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      }
      .nav-links.active{ display:flex; }
      .nav-link-container{ display:flex; align-items:center; width:100%; }
      .new-tag{ position:static; margin-left:8px; }
      .mobile-sign-in{
        display:block !important;
        margin-top:10px;
        padding:12px 20px;
        background: var(--primary-white);
        color: var(--accent-purple);
        border-radius:8px;
        text-align:center;
        font-weight:600;
        text-decoration:none;
        border:2px solid var(--accent-purple);
        transition: all .3s ease;
      }
      .mobile-sign-up{
        display:block !important;
        margin-top:10px;
        padding:12px 20px;
        background: var(--accent-purple);
        color:#fff;
        border-radius:8px;
        text-align:center;
        font-weight:600;
        text-decoration:none;
        border:2px solid var(--accent-purple);
        transition: all .3s ease;
      }

      :root{
        --pb-title-icon-size: 63px; /* was 70px (10% smaller) */
        --pb-title-icon-gap: 18px;
        --pb-h1-line: 42px;
        --pb-h1-gap: 9px;
      }
    }

    /* PLAYBOOK HERO */
    .pb-hero{
      width:100%;
      padding: 26px 0 22px;
      margin-top:110px;
      position:relative;
      overflow:hidden;
      border-bottom: 1px solid var(--border-light);
      background: var(--pb-hero);
    }
    .pb-hero::after{
      content:'';
      position:absolute; inset:0;
      background:
        linear-gradient(180deg, rgba(255,255,255,0.00) 0%, rgba(255,255,255,0.16) 80%, rgba(255,255,255,0.22) 100%);
      pointer-events:none;
      opacity: .75;
    }
    .dark-mode .pb-hero::after{
      background: linear-gradient(180deg, rgba(0,0,0,0.00) 0%, rgba(0,0,0,0.18) 80%, rgba(0,0,0,0.24) 100%);
      opacity: .9;
    }

    .pb-hero-inner{
      position:relative; z-index:2;
      max-width: 1180px;
      margin: 0 auto;
      padding: 0 20px 10px;
      animation: heroFadeUp .45s ease-out;
    }
    @keyframes heroFadeUp { from{opacity:0; transform: translateY(18px);} to{opacity:1; transform:none;} }

    .breadcrumb-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom:10px;
    }

    .breadcrumb{
      font-size:10px; text-transform:uppercase; letter-spacing:1px;
      color: var(--dark-gray);
      display:flex; gap:6px; align-items:center; flex-wrap:wrap;
      margin:0;
    }
    .breadcrumb a{
      color: var(--text-medium); text-decoration:none !important;
      font-weight:500; letter-spacing:.5px; transition: color .2s ease;
      display:inline-flex; align-items:center; gap:6px;
    }
    .breadcrumb a:hover{ color: var(--accent-purple-dark); }
    .breadcrumb i{ color: var(--dark-gray); opacity:.8; font-size:10px; }
    .breadcrumb .current{ color: var(--text-dark); font-weight:600; }

    .save-btn{
      display:inline-flex; align-items:center; gap:6px;
      padding:6px 12px; font-size:12px; font-weight:600;
      border-radius:999px;
      border:1px solid rgba(123,95,196,0.60);
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      color: var(--accent-purple-dark);
      cursor:pointer; transition: all .2s ease;
      height:29px;
    }
    .save-btn:hover{ transform: translateY(-1px); box-shadow: 0 4px 10px rgba(123,95,196,0.18); background:#fff; }
    .dark-mode .save-btn{ background: rgba(20,20,20,0.90); border-color: rgba(157,134,233,0.60); color: var(--accent-purple); }
    .save-btn.saved{ background: var(--premium-gradient); color:#fff; border-color: transparent; }
    .save-btn i{ font-size:12px; }
    .save-btn .save-label{ display:inline; }

    /* moved to top-right of hero section (absolute inside pb-hero-inner) */
    .save-btn.hero-save{
      position:absolute;
      top:-10px;
      right:-19px;
      z-index:5;
      margin-left:0;
      box-shadow: 0 12px 40px rgba(17,24,39,0.06);
    }

    .sr-only{
      position:absolute;
      width:1px; height:1px;
      padding:0; margin:-1px;
      overflow:hidden;
      clip: rect(0, 0, 0, 0);
      white-space:nowrap;
      border:0;
    }

    .pb-top-row{
      display:flex;
      align-items:flex-start;
      justify-content:center;
      gap:14px;
      flex-wrap:wrap;
      margin-top: 10px;
      text-align:center;
    }

    .pb-title-block{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap: 8px;
      margin-top:34px;
      max-width: 1080px;
      margin-left:auto;
      margin-right:auto;
      text-align:center;
    }
    .pb-title-row{
      display:flex;
      align-items:flex-start;
      justify-content:center;
      gap: var(--pb-title-icon-gap);
      width:100%;
    }
    .pb-title-text{
      text-align:center;
      max-width: 980px;
    }

    .pb-title-icon{
      color:#ffffff;
      font-size: var(--pb-title-icon-size);
      line-height: 1;
      filter: drop-shadow(0 10px 24px rgba(0,0,0,0.18)) drop-shadow(0 2px 6px rgba(123,95,196,0.22));
      flex-shrink:0;
      margin-top: calc((var(--pb-h1-line) + (var(--pb-h1-gap) / 2)) - (var(--pb-title-icon-size) / 2));
      margin-left: 23px; /* was 10px (move right by +13px) */
    }

    .pb-title{
      font-size: 46px;
      font-weight: 650;
      color: var(--pb-ink);
      margin: 0;
      letter-spacing: -0.8px;
      text-align:center;
      max-width: 980px;
    }
    .pb-title .line1{ display:block; line-height: var(--pb-h1-line); }
    .pb-title .line2{ display:block; line-height: var(--pb-h1-line); margin-top: var(--pb-h1-gap); }

    .pb-subtitle{
      font-size: 16px;
      color: var(--pb-muted);
      line-height: 1.65;
      max-width: 920px;
      margin: 30px 0;
      text-align:center;
    }

    .pb-meta{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin: 8px 0 0;
      justify-content:center;
    }
    .meta-pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 7px 11px;
      border-radius: 12px;
      background: var(--pb-glass);
      border: 1px solid var(--pb-border);
      color: var(--pb-ink);
      font-size: 12.5px;
      font-weight: 500;
      box-shadow: 0 12px 40px rgba(17,24,39,0.06);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      white-space:nowrap;
    }
    .meta-pill span{ color: var(--pb-muted); font-weight: 500; }
    .meta-pill b{ color: var(--pb-ink); font-weight: 700; letter-spacing: .2px; }
    .meta-pill i{ color: var(--accent-purple); }

    /* CATEGORY PILLS */
    .category-pills-container{
      margin-top: 30px;
      border-top: 1px solid var(--border-light);
      padding-top: 14px;
      padding-bottom: 30px;
    }
    .category-pills-title{
      font-size:12px; font-weight:700; color: var(--text-medium);
      text-transform:uppercase; letter-spacing:1px;
      margin-top:10px; margin-bottom:10px; display:block;
      text-align:center;
    }
    .category-pills-grid{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:center;
    }
    .category-pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:6px 12px; border-radius:999px;
      font-size:12px; font-weight:500; text-transform:uppercase; letter-spacing:.5px;
      border:1px solid transparent;
      background: rgba(255,255,255,0.9);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      text-decoration:none;
      height:32px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
      transition: all .2s ease;
      white-space:nowrap;
      cursor:pointer;
    }
    .dark-mode .category-pill{ background: rgba(255,255,255,0.08); box-shadow: 0 1px 3px rgba(0,0,0,0.3); }
    .category-pill:hover{ transform: translateY(-1px); box-shadow: 0 3px 8px rgba(0,0,0,0.08); }

    /* Canonical 9 pill classes (all defined so colours always match) */
    .category-pill.clarity{ color: var(--category-clarity); border-color: rgba(123,95,196,0.22); background: linear-gradient(135deg, rgba(123,95,196,0.10), rgba(123,95,196,0.05)); }
    .category-pill.burnout{ color: var(--category-burnout); border-color: rgba(245,158,11,0.22); background: linear-gradient(135deg, rgba(245,158,11,0.12), rgba(245,158,11,0.05)); }
    .category-pill.manager{ color: var(--category-manager); border-color: rgba(16,185,129,0.22); background: linear-gradient(135deg, rgba(16,185,129,0.10), rgba(16,185,129,0.05)); }
    .category-pill.politics{ color: var(--category-politics); border-color: rgba(59,130,246,0.22); background: linear-gradient(135deg, rgba(59,130,246,0.10), rgba(59,130,246,0.05)); }
    .category-pill.team{ color: var(--category-team); border-color: rgba(6,182,212,0.22); background: linear-gradient(135deg, rgba(6,182,212,0.10), rgba(6,182,212,0.05)); }
    .category-pill.boundaries{ color: var(--category-boundaries); border-color: rgba(249,115,22,0.22); background: linear-gradient(135deg, rgba(249,115,22,0.12), rgba(249,115,22,0.05)); }
    .category-pill.hr{ color: var(--category-hr); border-color: rgba(109,40,217,0.22); background: linear-gradient(135deg, rgba(109,40,217,0.10), rgba(109,40,217,0.05)); }
    .category-pill.confidence{ color: var(--category-confidence); border-color: rgba(239,68,68,0.22); background: linear-gradient(135deg, rgba(239,68,68,0.10), rgba(239,68,68,0.05)); }
    .category-pill.career{ color: var(--category-career); border-color: rgba(128,0,32,0.22); background: linear-gradient(135deg, rgba(128,0,32,0.10), rgba(128,0,32,0.05)); }

    /* PLAYBOOK LAYOUT */
    .pb-shell{ max-width: 1180px; margin: 0 auto; padding: 18px 20px 20px; }

    .pb-intro-grid{ display:grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 6px; }
    .pb-outcome{
      border: 1px solid rgba(123,95,196,0.16);
      background: rgba(123,95,196,0.06);
      border-radius: 16px;
      padding: 12px 12px;
      display:flex;
      gap: 10px;
      align-items:flex-start;
    }
    .dark-mode .pb-outcome{ background: rgba(123,95,196,0.14); border-color: rgba(123,95,196,0.26); }
    .pb-outcome i{ color: var(--accent-purple); margin-top: 2px; flex-shrink:0; }
    .pb-outcome b{ color: var(--pb-ink); font-weight: 700; display:block; margin-bottom: 2px; font-size: 13.5px; }
    .pb-outcome span{ color: var(--text-medium); font-size: 13px; line-height: 1.45; display:block; }

    .pb-grid{ display:grid; grid-template-columns: 0.42fr 0.58fr; gap: 18px; align-items:start; }

    .pb-rail{
      position: sticky; top: 104px;
      background: var(--pb-surface);
      border: 1px solid var(--pb-border);
      border-radius: 18px;
      padding: 16px;
      box-shadow: var(--pb-shadow);
      overflow:hidden;
    }
    .pb-rail::before{ content:''; position:absolute; left:0; right:0; top:0; height:3px; background: var(--premium-gradient); opacity: .95; }
    .pb-rail-title{
      font-size: 14px;
      font-weight: 700;
      letter-spacing: .8px;
      text-transform: uppercase;
      color: var(--accent-purple-dark);
      display:flex;
      align-items:center;
      gap:10px;
    }
    .pb-rail-title i{ color: var(--accent-purple); }
    .pb-rail-sub{ font-size: 12.5px; color: var(--text-medium); line-height: 1.45; margin-top: 6px; }

    .pb-progress{
      display:flex;
      gap:12px;
      align-items:center;
      border: 1px solid var(--border-light);
      background: rgba(123,95,196,0.05);
      border-radius: 16px;
      padding: 12px;
      margin: 10px 0 14px;
    }
    .dark-mode .pb-progress{ background: rgba(123,95,196,0.12); }

    .ring{
      width: 52px; height: 52px; border-radius: 999px;
      background: conic-gradient(var(--accent-purple) 0deg, var(--accent-purple) 0deg, var(--pb-ring-rest) 0deg);
      display:flex; align-items:center; justify-content:center;
      box-shadow: 0 14px 34px rgba(123,95,196,0.12);
      border: 1px solid var(--pb-ring);
    }
    .ring-inner{
      width: 40px; height: 40px; border-radius: 999px;
      background: var(--pb-surface);
      display:flex; align-items:center; justify-content:center;
      font-weight: 700; color: var(--pb-ink); font-size: 12px;
      border: 1px solid var(--border-light);
    }
    .pb-progress-meta .big{ font-size: 13px; font-weight: 700; color: var(--pb-ink); margin-bottom: 2px; }
    .pb-progress-meta .small{ font-size: 12px; color: var(--text-medium); line-height: 1.35; }

    .pb-btn{
      border: 1px solid rgba(123,95,196,0.28);
      background: rgba(255,255,255,0.90);
      color: var(--accent-purple-dark);
      border-radius: 12px;
      padding: 9px 12px;
      font-size: 12.5px;
      font-weight: 600;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:8px;
      transition: all .2s ease;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: 0 14px 40px rgba(17,24,39,0.06);
      width:100%;
      justify-content:center;
    }
    .dark-mode .pb-btn{
      background: rgba(255,255,255,0.06);
      border-color: rgba(157,134,233,0.32);
      color: var(--accent-purple);
      box-shadow: 0 18px 54px rgba(0,0,0,0.35);
    }
    .pb-btn:hover{ transform: translateY(-1px); box-shadow: 0 18px 54px rgba(17,24,39,0.10); }
    .pb-btn.primary{
      background: var(--premium-gradient);
      color:#fff;
      border:none;
      box-shadow: 0 18px 50px rgba(123,95,196,0.18);
    }
    .pb-btn.primary:hover{ box-shadow: 0 20px 60px rgba(123,95,196,0.26); }

    /* actions moved to bottom + compact + same line */
    .pb-rail-actions{
      display:flex;
      gap:10px;
      margin-top:12px;
    }
    .pb-rail-actions .pb-btn{
      width:auto;
      flex:1;
      padding:8px 10px;
      font-size:12px;
    }
    @media (max-width: 420px){
      .pb-rail-actions{ flex-direction:column; }
      .pb-rail-actions .pb-btn{ width:100%; }
    }

    .pb-jump{ margin-top: 12px; padding-top: 12px; border-top: 1px solid var(--border-light); }
    .jump-title{ font-size:12px; font-weight:700; letter-spacing:.8px; text-transform:uppercase; color: var(--text-medium); margin-bottom:10px; }
    .jump-list{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:8px; }
    .jump-link{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding: 10px 10px;
      border-radius: 14px;
      border: 1px solid var(--border-light);
      background: rgba(255,255,255,0.70);
      text-decoration:none;
      color: var(--pb-ink);
      transition: all .2s ease;
    }
    .dark-mode .jump-link{ background: rgba(255,255,255,0.06); }
    .jump-link:hover{ transform: translateY(-1px); box-shadow: 0 16px 44px rgba(17,24,39,0.10); border-color: rgba(123,95,196,0.22); }
    .jump-left{ display:flex; align-items:center; gap:10px; }
    .jump-icon{
      width: 30px; height: 30px; border-radius: 12px;
      background: rgba(123,95,196,0.10);
      border: 1px solid rgba(123,95,196,0.18);
      display:flex; align-items:center; justify-content:center;
      color: var(--accent-purple);
      flex-shrink:0;
    }
    .jump-text{ font-size: 13px; font-weight: 650; letter-spacing: .1px; }
    .jump-status{
      font-size: 11px; font-weight: 700;
      text-transform: uppercase; letter-spacing: .7px;
      padding: 3px 8px; border-radius: 999px;
      border: 1px solid var(--border-light);
      background: rgba(0,0,0,0.03);
      color: var(--text-medium);
      flex-shrink:0;
    }
    .dark-mode .jump-status{ background: rgba(255,255,255,0.06); }
    .jump-status.done{ border-color: rgba(16,185,129,0.25); background: rgba(16,185,129,0.10); color: var(--pb-success); }

    .pb-main{ display:flex; flex-direction:column; gap: 14px; }

    .pb-card{
      background: var(--pb-surface);
      border: 1px solid var(--pb-border);
      border-radius: 18px;
      padding: 16px;
      box-shadow: var(--pb-shadow);
      position:relative;
      overflow:hidden;
      scroll-margin-top: 120px; /* recommended: prevents headings hiding under fixed nav */
    }
    .pb-card::before{
      content:'';
      position:absolute; left:0; right:0; top:0; height:3px;
      background: linear-gradient(135deg, rgba(123,95,196,0.85), rgba(90,68,150,0.70));
      opacity: .9;
    }

    .pb-card-header{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 12px;
      margin-top: 6px;
      margin-bottom: 10px;
      flex-wrap:wrap;
    }
    .pb-card-title{
      display:flex; align-items:center; gap:10px;
      font-size: 15px; font-weight: 750; color: var(--pb-ink);
    }
    .pb-card-title i{ color: var(--accent-purple); }
    .pb-card-sub{ color: var(--pb-muted); font-size: 13.2px; line-height: 1.55; margin-bottom: 12px; max-width: 1100px; }

    .pb-done{
      display:inline-flex; align-items:center; gap:8px;
      padding: 7px 10px;
      border-radius: 12px;
      border: 1px solid var(--border-light);
      background: rgba(255,255,255,0.70);
      cursor:pointer;
      transition: all .2s ease;
      user-select:none;
    }
    .dark-mode .pb-done{ background: rgba(255,255,255,0.06); }
    .pb-done:hover{ transform: translateY(-1px); border-color: rgba(16,185,129,0.24); }
    .pb-done i{ color: var(--pb-success); }
    .pb-done span{ font-size: 12px; font-weight: 700; letter-spacing: .6px; text-transform: uppercase; color: var(--text-medium); }

    .field-grid{ display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
    .field{ display:flex; flex-direction:column; gap:8px; }
    .span-2{ grid-column: span 2; }

    .label-row{ display:flex; align-items:center; justify-content:space-between; gap:10px; min-height:18px; }
    .label-text{ font-size:12px; font-weight: 700; color: var(--pb-ink); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .hint-chip{
      font-size:11px; font-weight: 700;
      color: var(--accent-purple-dark);
      border: 1px solid rgba(123,95,196,0.22);
      background: rgba(123,95,196,0.06);
      padding: 2px 8px;
      border-radius: 999px;
      white-space:nowrap;
      flex-shrink:0;
    }
    .dark-mode .hint-chip{ border-color: rgba(157,134,233,0.26); background: rgba(123,95,196,0.14); color: var(--accent-purple); }

    .input, .textarea{
      width:100%;
      border:1px solid var(--border-light);
      background: var(--light-gray);
      color: var(--text-dark);
      border-radius:14px;
      padding:11px 12px;
      font-size:13.5px;
      outline:none;
      transition: box-shadow .2s ease, border-color .2s ease, background-color .2s ease;
    }
    .dark-mode .input, .dark-mode .textarea{ background: rgba(255,255,255,0.05); }
    .input:focus, .textarea:focus{
      border-color: rgba(123,95,196,0.55);
      box-shadow: 0 0 0 4px rgba(123,95,196,0.14);
      background: rgba(255,255,255,0.9);
    }
    .dark-mode .input:focus, .dark-mode .textarea:focus{
      background: rgba(255,255,255,0.08);
      box-shadow: 0 0 0 4px rgba(123,95,196,0.20);
    }
    .textarea{ min-height:110px; resize: vertical; }

    /* Premium insight blocks */
    .insight-grid{ display:grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 10px; }
    .insight{
      border-radius: 16px;
      border: 1px solid rgba(123,95,196,0.18);
      background: rgba(123,95,196,0.06);
      padding: 12px 12px;
      display:flex;
      gap: 10px;
      align-items:flex-start;
    }
    .dark-mode .insight{ background: rgba(123,95,196,0.14); border-color: rgba(123,95,196,0.28); }
    .insight i{ color: var(--accent-purple); margin-top: 2px; }

    /* Fix: only the title b is block, not the inline b words in the span */
    .insight > div > b{
      display:block;
      color: var(--pb-ink);
      font-size: 13px;
      font-weight: 750;
      margin-bottom: 2px;
    }
    .insight span{ display:block; color: var(--text-medium); font-size: 13px; line-height: 1.45; }

    /* TAB STRIP */
    .pb-tabs{ display:flex; gap:8px; flex-wrap:wrap; margin-top: 8px; margin-bottom: 8px; }
    .pb-tab{
      border: 1px solid var(--border-light);
      background: rgba(255,255,255,0.70);
      color: var(--pb-ink);
      padding: 9px 12px;
      border-radius: 999px;
      font-size: 12.5px;
      font-weight: 700;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:8px;
      transition: all .2s ease;
    }
    .dark-mode .pb-tab{ background: rgba(255,255,255,0.06); }
    .pb-tab i{ color: var(--accent-purple); }
    .pb-tab.active{
      background: var(--premium-gradient);
      color:#fff;
      border-color: transparent;
      box-shadow: 0 16px 50px rgba(123,95,196,0.20);
    }
    .pb-tab.active i{ color:#fff; }
    .pb-tab-panel{ display:none; }
    .pb-tab-panel.active{ display:block; animation: panelIn .35s ease; }
    @keyframes panelIn { from{opacity:0; transform: translateY(10px);} to{opacity:1; transform:none;} }

    /* OUTPUT BOX */
    .output-box{
      border: 1px solid rgba(123,95,196,0.18);
      background: rgba(123,95,196,0.06);
      border-radius: 16px;
      padding: 14px;
      margin-top: 12px;
    }
    .dark-mode .output-box{ background: rgba(123,95,196,0.14); border-color: rgba(123,95,196,0.28); }
    .output-title{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      margin-bottom: 8px;
      flex-wrap:wrap;
    }
    .output-title h4{
      font-size:12px; font-weight: 750; letter-spacing:.8px; text-transform:uppercase;
      color: var(--accent-purple-dark);
      display:flex; align-items:center; gap:10px;
    }
    .output-title h4 i{ color: var(--accent-purple); }
    .output-content{
      font-size: 13.5px;
      color: var(--text-dark);
      line-height: 1.55;
      white-space: pre-wrap;
    }

    /* MINI ROW */
    .mini-row{ display:flex; gap:10px; flex-wrap:wrap; margin-top: 10px; }
    .mini-row .pb-btn{ width:auto; padding: 9px 12px; border-radius: 12px; }

    /* Accordion (scripts) */
    .acc{ display:flex; flex-direction:column; gap:10px; }
    .acc-item{
      border-radius: 16px;
      border: 1px solid var(--border-light);
      background: rgba(255,255,255,0.70);
      overflow:hidden;
      transition: all .2s ease;
    }
    .dark-mode .acc-item{ background: rgba(255,255,255,0.06); }
    .acc-head{
      width:100%;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      padding: 12px 12px;
      cursor:pointer;
      background: transparent;
      border:none;
      text-align:left;
      color: var(--pb-ink);
    }
    .acc-head:hover{ background: rgba(123,95,196,0.06); }
    .dark-mode .acc-head:hover{ background: rgba(157,134,233,0.10); }
    .acc-left{ display:flex; gap:10px; align-items:flex-start; }
    .acc-icon{
      width: 32px; height: 32px; border-radius: 12px;
      display:flex; align-items:center; justify-content:center;
      background: rgba(123,95,196,0.10);
      border: 1px solid rgba(123,95,196,0.18);
      color: var(--accent-purple);
      flex-shrink:0;
      margin-top: 1px;
    }
    .acc-title{ font-size: 13.5px; font-weight: 750; line-height: 1.25; }
    .acc-meta{ font-size: 12px; color: var(--text-medium); margin-top: 2px; line-height: 1.35; }
    .acc-chevron{ color: var(--accent-purple); margin-top: 2px; opacity: .9; }
    .acc-body{
      display:none;
      padding: 0 12px 12px;
      border-top: 1px solid var(--border-light);
    }
    .acc-body.open{ display:block; }
    .acc-body p{ color: var(--text-medium); font-size: 13px; line-height: 1.55; margin-top: 10px; }
    .script-box{
      margin-top: 10px;
      border-radius: 14px;
      border: 1px solid rgba(123,95,196,0.18);
      background: rgba(123,95,196,0.06);
      padding: 12px;
    }
    .dark-mode .script-box{ background: rgba(123,95,196,0.14); border-color: rgba(123,95,196,0.28); }
    .script-box .label{
      font-size:11px; font-weight: 800; letter-spacing:.8px; text-transform:uppercase;
      color: var(--accent-purple-dark);
      display:flex; align-items:center; gap:8px;
      margin-bottom: 8px;
    }
    .script-box .label i{ color: var(--accent-purple); }
    .script-text{
      white-space: pre-wrap;
      font-size: 13.5px;
      color: var(--text-dark);
      line-height: 1.55;
    }

    /* Script search (recommended) */
    .script-search{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      margin-top: 10px;
      margin-bottom: 4px;
    }
    .script-search .input{ flex:1; min-width:240px; }
    .script-search .hint-chip{ margin-left:auto; }

    /* FOOTER */
    footer{
      background: var(--primary-white);
      padding: 10px 0;
      border-top: 1px solid var(--border-light);
      margin-top: 30px;
      text-align:center;
      color: var(--text-medium);
    }

    /* MY PLAYBOOK FAB + SIDEBAR */
    .my-playbook-fab{
      position:fixed; bottom:24px; right:24px; z-index:1200;
      background: var(--premium-gradient);
      color:#fff;
      padding:10px 16px;
      border-radius:999px;
      display:inline-flex; align-items:center; gap:8px;
      cursor:pointer; font-size:13px; font-weight:700;
      box-shadow: 0 10px 25px rgba(0,0,0,0.25);
      transition: all .25s ease;
    }
    .my-playbook-fab:hover{ transform: translateY(-3px); box-shadow: 0 14px 30px rgba(0,0,0,0.32); }

    .playbook-sidebar-overlay{
      position:fixed; inset:0;
      background: rgba(0,0,0,0.45);
      z-index:1190;
      opacity:0; pointer-events:none;
      transition: opacity .25s ease;
    }
    .playbook-sidebar-overlay.open{ opacity:1; pointer-events:auto; }

    .playbook-sidebar{
      position:fixed; top:0; right:-380px;
      width:340px; max-width:90%;
      height:100%;
      background: rgba(255,255,255,0.94);
      backdrop-filter: blur(18px);
      -webkit-backdrop-filter: blur(18px);
      box-shadow: -4px 0 20px rgba(0,0,0,0.25);
      z-index:1191;
      display:flex; flex-direction:column;
      border-left: 1px solid var(--border-light);
      transition: right .25s ease;
    }
    .dark-mode .playbook-sidebar{ background: rgba(18,18,18,0.96); box-shadow: -4px 0 22px rgba(0,0,0,0.6); }
    .playbook-sidebar.open{ right:0; }
    .playbook-sidebar-header{ padding:20px 20px 14px; border-bottom:1px solid var(--border-light); }
    .playbook-sidebar-header-title-row{ display:flex; justify-content:space-between; align-items:center; margin-bottom:4px; }
    .playbook-sidebar-header h3{ font-size:18px; font-weight:700; color: var(--text-dark); }
    .playbook-sidebar-header p{ font-size:13px; color: var(--dark-gray); }
    .playbook-close-btn{
      background:none; border:none; color: var(--dark-gray);
      cursor:pointer; font-size:18px; border-radius:999px;
      width:28px; height:28px; display:flex; align-items:center; justify-content:center;
      transition: background-color .2s ease;
    }
    .playbook-close-btn:hover{ background: var(--light-gray); }
    .playbook-sidebar-body{
      padding:14px 18px 20px; padding-bottom:50px;
      overflow-y:auto; flex:1;
      display:flex; flex-direction:column; gap:18px;
    }
    .saved-items-empty{ font-size:13px; color: var(--dark-gray); line-height:1.6; }
    .saved-items-list{ list-style:none; margin:0; padding:0; }
    .saved-item{
      padding:10px 8px;
      border-radius:10px;
      border:1px solid var(--border-light);
      background: var(--primary-white);
      box-shadow: 0 1px 4px rgba(0,0,0,0.04);
      margin-bottom:10px;
      display:flex; flex-direction:column; gap:2px;
    }
    .saved-item-title-row{ display:flex; justify-content:space-between; align-items:baseline; gap:6px; }
    .saved-item-title{ font-size:14px; font-weight:700; color: var(--text-dark); }
    .saved-item-type{ font-size:11px; text-transform:uppercase; letter-spacing:.6px; color: var(--accent-purple-dark); font-weight:700; }
    .saved-item-meta{ font-size:12px; color: var(--dark-gray); }
    .saved-item-link{
      margin-top:6px;
      font-size:12px;
      color: var(--accent-purple);
      text-decoration:none;
      font-weight:700;
      display:inline-flex; align-items:center; gap:4px;
    }
    .saved-item-link:hover{ text-decoration:underline; }

    .playbook-quick-links{
      margin-top: auto;
      padding-top:12px;
      border-top:1px solid var(--border-light);
    }
    .quick-links-title{
      font-size:12px; font-weight:700; text-transform:uppercase; letter-spacing:.8px;
      color: var(--text-medium);
    }
    .playbook-quick-links-list{ display:flex; flex-direction:column; gap:10px; margin-top:6px; }
    .quick-link-pill{
      width:50%;
      padding:4px;
      border-radius:999px;
      border:1px solid rgba(123,95,196,0.35);
      background: linear-gradient(135deg, rgba(123,95,196,0.08), rgba(123,95,196,0.02));
      text-decoration:none;
      color: var(--accent-purple-dark);
      font-size:13px;
      font-weight:700;
      display:flex; align-items:center; gap:8px;
      transition: all .2s ease;
    }
    .quick-link-pill:hover{
      transform: translateY(-1px);
      box-shadow: 0 3px 8px rgba(0,0,0,0.12);
      background: linear-gradient(135deg, rgba(123,95,196,0.16), rgba(123,95,196,0.06));
    }

    /* RESPONSIVE */
    @media (max-width: 1024px){
      .pb-grid{ grid-template-columns: 1fr; }
      .pb-rail{ position: relative; top: auto; }
      .pb-title-block{ max-width: 100%; }
    }
    @media (max-width: 768px){
      .pb-hero{ margin-top: 100px; }
      .pb-title{ font-size: 36px; }
      .field-grid{ grid-template-columns:1fr; }
      .span-2{ grid-column: span 1; }
      .pb-intro-grid{ grid-template-columns: 1fr; }
      .insight-grid{ grid-template-columns: 1fr; }
    }
  </style>

  <!-- THEME PRELOAD -->
  <script>
    (function () {
      try {
        const saved = localStorage.getItem('theme');
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        const useDark = saved ? (saved === 'dark') : prefersDark;
        if (useDark) document.documentElement.classList.add('dark-mode');
      } catch (e) {}
    })();
  </script>
</head>

<body>

<nav>
  <div class="container nav-container">
    <button class="mobile-toggle" id="mobileToggleBtn" aria-label="Open menu"><i class="fas fa-bars"></i></button>

    <a href="index.html" class="logo">
      <img src="./assets/img/logo.png" alt="The Employee Playbook" class="logo-img" id="mainLogo">
    </a>

    <div class="nav-links" id="navLinks">
      <a href="the-lens.html" class="nav-link">The Lens</a>
      <a href="the-toolkit.html" class="nav-link">The Toolkit</a>
      <div class="nav-link-container">
        <a href="the-coach.html" class="nav-link">The Coach</a>
        <span class="new-tag">NEW</span>
      </div>
      <a href="the-shift.html" class="nav-link">The Shift</a>
      <a href="the-pricing.html" class="nav-link">The Pricing</a>
      <a href="sign-in.html" class="mobile-sign-in">Sign In</a>
      <a href="create-account.html" class="mobile-sign-up">Sign Up</a>
    </div>

    <div class="nav-actions">
      <a href="create-account.html" class="header-cta">Sign up</a>
      <a href="sign-in.html" class="sign-in">Sign in</a>
      <button class="theme-toggle" id="themeToggleBtn" aria-label="Toggle theme"><i class="fas fa-moon"></i></button>
    </div>
  </div>
</nav>

<!-- PLAYBOOK HERO -->
<section class="pb-hero">
  <div class="pb-hero-inner">

    <!-- Save button positioned top-right of hero -->
    <button class="save-btn hero-save" id="saveBtn" title="Save to My Playbook" aria-label="Save to My Playbook" aria-pressed="false">
      <i class="fa-regular fa-bookmark" aria-hidden="true"></i>
      <span class="save-label">Save</span>
      <span class="sr-only">Save item</span>
    </button>

    <div class="breadcrumb-row">
      <div class="breadcrumb">
        <a href="index.html" title="Home"><i class="fas fa-house"></i> Home</a>
        <i class="fas fa-chevron-right"></i>

        <a href="the-toolkit.html">Toolkit</a>
        <i class="fas fa-chevron-right"></i>
        <a href="category-decision-making-and-career-path.html">Decision Making &amp; Career Path</a>
        <i class="fas fa-chevron-right"></i>
        <span class="current">Career Advancement Playbook</span>
      </div>
    </div>

    <div class="pb-top-row">
      <div class="pb-title-block">

        <div class="pb-title-row">
          <i class="fas fa-book-open pb-title-icon" aria-hidden="true"></i>

          <div class="pb-title-text">
            <h1 class="pb-title">
              <span class="line1">Career Advancement Playbook</span>
              <span class="line2">Turn Performance into Progression</span>
            </h1>

            <div class="pb-subtitle">
              This is the grown-up version of “work hard and hope”. You’ll build a <b>promotion-ready narrative</b>, map leverage,
              create a <b>proof pack</b>, and leave with scripts that keep you calm while you move the pieces.
            </div>

            <div class="pb-meta">
              <div class="meta-pill"><i class="fas fa-stopwatch"></i> <span>Time:</span> <b>45–60 mins</b></div>
              <div class="meta-pill"><i class="fas fa-layer-group"></i> <span>Format:</span> <b>Chapters + Scripts + One-pager</b></div>
              <div class="meta-pill"><i class="fas fa-bullseye"></i> <span>Outcome:</span> <b>Positioning + Plan + Leverage</b></div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <div class="category-pills-container">
      <span class="category-pills-title">Related Categories</span>
      <div class="category-pills-grid">
        <a href="category-clarity-priorities-and-direction.html" class="category-pill clarity" title="Workload Clarity &amp; Direction">
          <i class="fas fa-compass"></i><span>Clarity, Priorities &amp; Direction</span>
        </a>
        <a href="category-confidence-presence-influence.html" class="category-pill confidence" title="Confidence &amp; Influence">
            <i class="fas fa-bullhorn"></i><span>Confidence, Presence &amp; Influence</span>
        </a>
        <a href="category-workplace-dynamics-and-politics.html" class="category-pill politics" title="Workplace Dynamics &amp; Politics">
          <i class="fas fa-chess"></i><span>Workplace Dynamics &amp; Politics</span>
        </a>
        <a href="category-hr-and-formal-processes.html" class="category-pill hr" title="HR &amp; Performance">
          <i class="fas fa-file-shield"></i><span>HR &amp; Formal Process</span>
        </a>
      </div>
    </div>

  </div>
</section>

<!-- PLAYBOOK CONTENT -->
<div class="pb-shell">

  <section class="pb-card" id="intro">
    <div class="pb-card-header">
      <div>
        <div class="pb-card-title"><i class="fas fa-compass"></i> How to use this playbook</div>
        <div class="pb-card-sub" style="padding-bottom:18px;">
          Career progression is rarely “the best worker wins”. It’s usually a <b>signal game</b>: decision-makers look for <b>reduced risk</b>,
          <b>predictable delivery</b>, and a <b>clean story</b> they can repeat to other decision-makers. This playbook helps you build that story,
          without turning you into a corporate robot.
        </div>
      </div>
    </div>

    <div class="pb-intro-grid">
      <div class="pb-outcome">
        <i class="fas fa-bolt"></i>
        <div><b>Clarity in minutes</b><span>Pick a target, define success, and stop drifting.</span></div>
      </div>
      <div class="pb-outcome">
        <i class="fas fa-eye"></i>
        <div><b>Signal control</b><span>Shape what people notice: impact, reliability, and leadership behaviours.</span></div>
      </div>
      <div class="pb-outcome">
        <i class="fas fa-folder-open"></i>
        <div><b>Proof pack</b><span>Evidence that survives politics: metrics, artefacts, and third-party validation.</span></div>
      </div>
      <div class="pb-outcome">
        <i class="fas fa-comment-dots"></i>
        <div><b>Scripts that protect you</b><span>Ask for scope, progression, and pay without sounding desperate or combative.</span></div>
      </div>
    </div>

    <div class="insight-grid">
      <div class="insight">
        <i class="fas fa-brain"></i>
        <div>
          <b>Neuro hack: cognitive ease wins</b>
          <span>Decision-makers prefer what’s easy to understand and repeat. Use <b>3 bullets</b>, <b>numbers</b>, and <b>before/after</b> stories. Make your value “sticky”.</span>
        </div>
      </div>
      <div class="insight">
        <i class="fas fa-chess-king"></i>
        <div>
          <b>Uncommon leverage: you’re judged by “risk”, not effort</b>
          <span>Most promotion decisions are conservative. Your job is to look like the person who <b>reduces fires</b>, <b>keeps promises</b>, and <b>handles pressure</b>.</span>
        </div>
      </div>
    </div>
  </section>

  <div class="pb-grid">

    <!-- LEFT RAIL -->
    <aside class="pb-rail">
      <div>
        <div class="pb-rail-title"><i class="fas fa-route"></i> Playbook Control Rail</div>
        <div class="pb-rail-sub">Track progress, jump to chapters, and copy your one-pager in one click.</div>
      </div>

      <div class="pb-progress">
        <div class="ring" id="progressRing">
          <div class="ring-inner" id="progressPct">0%</div>
        </div>
        <div class="pb-progress-meta">
          <div class="big" id="progressLabel">Not started</div>
          <div class="small">Mark chapters done. Your progress saves locally.</div>
        </div>
      </div>

      <div class="pb-jump">
        <div class="jump-title">Chapters</div>
        <ul class="jump-list">
          <li><a class="jump-link" href="#c1"><div class="jump-left"><div class="jump-icon"><i class="fas fa-crosshairs"></i></div><div class="jump-text">1) Target & timeline</div></div><div class="jump-status" id="st-c1">open</div></a></li>
          <li><a class="jump-link" href="#c2"><div class="jump-left"><div class="jump-icon"><i class="fas fa-medal"></i></div><div class="jump-text">2) Narrative & signals</div></div><div class="jump-status" id="st-c2">open</div></a></li>
          <li><a class="jump-link" href="#c3"><div class="jump-left"><div class="jump-icon"><i class="fas fa-diagram-project"></i></div><div class="jump-text">3) Leverage map</div></div><div class="jump-status" id="st-c3">open</div></a></li>
          <li><a class="jump-link" href="#c4"><div class="jump-left"><div class="jump-icon"><i class="fas fa-folder-open"></i></div><div class="jump-text">4) Proof pack</div></div><div class="jump-status" id="st-c4">open</div></a></li>
          <li><a class="jump-link" href="#c5"><div class="jump-left"><div class="jump-icon"><i class="fas fa-comment-dots"></i></div><div class="jump-text">5) Scripts that move doors</div></div><div class="jump-status" id="st-c5">open</div></a></li>
          <li><a class="jump-link" href="#c6"><div class="jump-left"><div class="jump-icon"><i class="fas fa-scale-balanced"></i></div><div class="jump-text">6) Process + pay advantage</div></div><div class="jump-status" id="st-c6">open</div></a></li>
          <li><a class="jump-link" href="#c7"><div class="jump-left"><div class="jump-icon"><i class="fas fa-heart-pulse"></i></div><div class="jump-text">7) Execution + wellbeing</div></div><div class="jump-status" id="st-c7">open</div></a></li>
        </ul>
      </div>

      <div class="pb-rail-actions">
        <button class="pb-btn primary" id="copyAllBtn"><i class="far fa-copy"></i> Copy one-pager</button>
        <button class="pb-btn" id="resetBtn"><i class="fas fa-rotate-left"></i> Reset</button>
      </div>
    </aside>

    <!-- MAIN -->
    <main class="pb-main">

      <!-- CHAPTER 1 -->
      <section class="pb-card" id="c1">
        <div class="pb-card-header">
          <div>
            <div class="pb-card-title"><i class="fas fa-crosshairs"></i> Chapter 1) Target & timeline</div>
            <div class="pb-card-sub">
              Vague ambition leaks months. A clean target makes you easier to back, easier to sponsor, and harder to ignore.
            </div>
          </div>
          <div class="pb-done" data-module="c1"><i class="fas fa-check-circle"></i><span>Mark done</span></div>
        </div>

        <div class="field-grid">
          <div class="field">
            <div class="label-row"><span class="label-text">Current role</span><span class="hint-chip">now</span></div>
            <input class="input pb-input" id="c1_now" placeholder="Example: Senior Analyst (Ops), Team Lead (People), Project Manager">
          </div>

          <div class="field">
            <div class="label-row"><span class="label-text">Target role (next step)</span><span class="hint-chip">next</span></div>
            <input class="input pb-input" id="c1_target" placeholder="Example: Lead / Manager / Principal / Senior PM / Head of…">
          </div>

          <div class="field">
            <div class="label-row"><span class="label-text">Timeline</span><span class="hint-chip">window</span></div>
            <input class="input pb-input" id="c1_timeline" placeholder="Example: 3 months / 6 months / next cycle / by Q2">
          </div>

          <div class="field">
            <div class="label-row"><span class="label-text">Non-negotiables</span><span class="hint-chip">protect</span></div>
            <input class="input pb-input" id="c1_nonneg" placeholder="Example: no travel, remote, salary floor, protected time, wellbeing">
          </div>

          <!-- recommended: make the decision-maker explicit -->
          <div class="field">
            <div class="label-row"><span class="label-text">Who ultimately decides?</span><span class="hint-chip">power</span></div>
            <input class="input pb-input" id="c1_decider" placeholder="Example: Manager + Director / Calibration panel / HR + VP">
          </div>

          <div class="field">
            <div class="label-row"><span class="label-text">What “yes” looks like</span><span class="hint-chip">criteria</span></div>
            <input class="input pb-input" id="c1_yes" placeholder="Example: Own X scope; lead Y forum; deliver Z outcomes; trusted for decisions">
          </div>

          <div class="field span-2">
            <div class="label-row"><span class="label-text">Your “why now” (credibility version)</span><span class="hint-chip">signal</span></div>
            <textarea class="textarea pb-input" id="c1_whynow" placeholder="Example: I’m already operating at the next level: owning decisions, stakeholder management, delivery under pressure, coaching others."></textarea>
          </div>

          <div class="field span-2">
            <div class="label-row"><span class="label-text">The skill bet (what you’re building)</span><span class="hint-chip">edge</span></div>
            <textarea class="textarea pb-input" id="c1_bet" placeholder="Example: stronger decision-making; executive comms; commercial judgement; leading through ambiguity; AI-enabled efficiency."></textarea>
          </div>
        </div>

        <div class="insight-grid">
          <div class="insight">
            <i class="fas fa-lightbulb"></i>
            <div>
              <b>Modern-day insight: promotions are often “capacity decisions”</b>
              <span>Many companies promote when they believe you’ll <b>reduce leadership load</b>. Show you can absorb complexity, not just do tasks.</span>
            </div>
          </div>
          <div class="insight">
            <i class="fas fa-bolt"></i>
            <div>
              <b>Uncommon knowledge: titles follow proof of “scope”</b>
              <span>If you want the title, ask for <b>decision rights</b>, <b>ownership</b>, and <b>measurable outcomes</b>. Title comes after scope becomes real.</span>
            </div>
          </div>
        </div>

        <div class="output-box">
          <div class="output-title">
            <h4><i class="fas fa-bullseye"></i> Career North Star (copy-ready)</h4>
            <div class="mini-row">
              <button class="pb-btn" type="button" onclick="buildNorthStar()"><i class="fas fa-wand-magic-sparkles"></i> Build</button>
              <button class="pb-btn" type="button" onclick="copyText('out_northstar')"><i class="far fa-copy"></i> Copy</button>
            </div>
          </div>
          <div class="output-content" id="out_northstar">Click Build to generate your Career North Star.</div>
        </div>
      </section>

      <!-- CHAPTER 2 -->
      <section class="pb-card" id="c2">
        <div class="pb-card-header">
          <div>
            <div class="pb-card-title"><i class="fas fa-medal"></i> Chapter 2) Narrative & signals</div>
            <div class="pb-card-sub">
              The game is not “who worked hardest”. It’s “whose value is most obvious, safest to back, and easiest to justify”.
              Build a narrative people can repeat in one breath.
            </div>
          </div>
          <div class="pb-done" data-module="c2"><i class="fas fa-check-circle"></i><span>Mark done</span></div>
        </div>

        <div class="pb-tabs" role="tablist" aria-label="Narrative tabs">
          <button class="pb-tab active" type="button" data-tab="nA"><i class="fas fa-bolt"></i> Impact</button>
          <button class="pb-tab" type="button" data-tab="nB"><i class="fas fa-shield"></i> Reliability</button>
          <button class="pb-tab" type="button" data-tab="nC"><i class="fas fa-people-group"></i> Leadership signals</button>
          <button class="pb-tab" type="button" data-tab="nD"><i class="fas fa-brain"></i> Neuro advantage</button>
        </div>

        <div class="pb-tab-panel active" id="nA">
          <div class="pb-card-sub">
            <b>Rule:</b> “Busy” doesn’t sell. <b>Outcome</b> sells. Use numbers, time saved, risk reduced, revenue protected, mistakes prevented.
          </div>
          <div class="field-grid">
            <!-- recommended: a 10-second opener you can use in forums -->
            <div class="field span-2">
              <div class="label-row"><span class="label-text">10-second headline (meeting opener)</span><span class="hint-chip">prime</span></div>
              <input class="input pb-input" id="c2_headline" placeholder="Example: Headline: we’re on track; decision needed on X; next step Y.">
            </div>

            <div class="field span-2">
              <div class="label-row"><span class="label-text">Top 3 outcomes you’ve delivered</span><span class="hint-chip">proof</span></div>
              <textarea class="textarea pb-input" id="c2_outcomes" placeholder="Example: Reduced cycle time by 25%; rebuilt process; delivered a high-risk launch with zero incidents."></textarea>
            </div>
            <div class="field span-2">
              <div class="label-row"><span class="label-text">Numbers you can safely use</span><span class="hint-chip">metrics</span></div>
              <input class="input pb-input" id="c2_numbers" placeholder="Example: +20% / -£50k cost / -2 days / 3 stakeholders / 12 projects">
            </div>
          </div>
        </div>

        <div class="pb-tab-panel" id="nB">
          <div class="pb-card-sub">
            <b>Uncommon truth:</b> senior leaders value people who lower uncertainty. “Reliable” beats “brilliant but unpredictable”.
          </div>
          <div class="field-grid">
            <div class="field span-2">
              <div class="label-row"><span class="label-text">Your reliability signals</span><span class="hint-chip">trust</span></div>
              <textarea class="textarea pb-input" id="c2_reliability" placeholder="Example: clean weekly updates; early risk flags; no surprises; consistent delivery; calm in ambiguity."></textarea>
            </div>
            <div class="field span-2">
              <div class="label-row"><span class="label-text">Where you sometimes leak credibility</span><span class="hint-chip">tighten</span></div>
              <textarea class="textarea pb-input" id="c2_leaks" placeholder="Example: over-explaining; apologising; late updates; unclear ownership; reacting emotionally."></textarea>
            </div>
          </div>
        </div>

        <div class="pb-tab-panel" id="nC">
          <div class="pb-card-sub">
            <b>Leadership signals</b> are not motivational quotes. They’re behaviours: decisions, boundaries, calm, and lifting others’ capability.
          </div>
          <div class="field-grid">
            <div class="field">
              <div class="label-row"><span class="label-text">Your “signature strength”</span><span class="hint-chip">brand</span></div>
              <input class="input pb-input" id="c2_brand" placeholder="Example: turning chaos into structure / stakeholder calm / execution under pressure">
            </div>
            <div class="field">
              <div class="label-row"><span class="label-text">Your next-level behaviour</span><span class="hint-chip">act</span></div>
              <input class="input pb-input" id="c2_nextbeh" placeholder="Example: own decisions; coach others; unblock; simplify; protect priorities">
            </div>
            <div class="field span-2">
              <div class="label-row"><span class="label-text">A story you want attached to your name</span><span class="hint-chip">story</span></div>
              <textarea class="textarea pb-input" id="c2_story" placeholder="Example: “When it got messy, they made it clear and delivered.”"></textarea>
            </div>
          </div>
        </div>

        <div class="pb-tab-panel" id="nD">
          <div class="pb-card-sub">
            <b>Neuro hacks you can actually use:</b> these are practical perception tools—no fluff.
          </div>
          <div class="insight-grid">
            <div class="insight">
              <i class="fas fa-bullseye"></i>
              <div><b>Primacy effect</b><span>First impressions stick. Lead meetings with a 10-second <b>headline</b> + <b>decision</b> + <b>next step</b>.</span></div>
            </div>
            <div class="insight">
              <i class="fas fa-layer-group"></i>
              <div><b>Chunking</b><span>People remember in 3s. Use <b>3 outcomes</b>, <b>3 risks</b>, <b>3 asks</b>.</span></div>
            </div>
            <div class="insight">
              <i class="fas fa-flag-checkered"></i>
              <div><b>Peak-end rule</b><span>How you end a project matters. Finish with a clean summary and “what this unlocks next”.</span></div>
            </div>
            <div class="insight">
              <i class="fas fa-eye"></i>
              <div><b>Availability bias</b><span>People promote what they can recall. Create a monthly “wins memo” to your manager (short, factual, consistent).</span></div>
            </div>
          </div>
        </div>

        <div class="output-box">
          <div class="output-title">
            <h4><i class="fas fa-microphone-lines"></i> Your positioning paragraph (copy-ready)</h4>
            <div class="mini-row">
              <button class="pb-btn" type="button" onclick="buildPositioning()"><i class="fas fa-wand-magic-sparkles"></i> Build</button>
              <button class="pb-btn" type="button" onclick="copyText('out_positioning')"><i class="far fa-copy"></i> Copy</button>
            </div>
          </div>
          <div class="output-content" id="out_positioning">Click Build to generate a short positioning paragraph.</div>
        </div>
      </section>

      <!-- CHAPTER 3 -->
      <section class="pb-card" id="c3">
        <div class="pb-card-header">
          <div>
            <div class="pb-card-title"><i class="fas fa-diagram-project"></i> Chapter 3) Leverage map</div>
            <div class="pb-card-sub">
              Progression is often decided in rooms you’re not in. You don’t need to be political—you need to be <b>aware</b>.
              This chapter maps who influences your progression and how to move without drama.
            </div>
          </div>
          <div class="pb-done" data-module="c3"><i class="fas fa-check-circle"></i><span>Mark done</span></div>
        </div>

        <div class="field-grid">
          <div class="field">
            <div class="label-row"><span class="label-text">Sponsor candidate</span><span class="hint-chip">power</span></div>
            <input class="input pb-input" id="c3_sponsor" placeholder="Example: a senior leader who benefits from your success">
          </div>
          <div class="field">
            <div class="label-row"><span class="label-text">Your manager’s incentive</span><span class="hint-chip">why</span></div>
            <input class="input pb-input" id="c3_mgr_incentive" placeholder="Example: delivery, stability, headcount, reputation, risk">
          </div>

          <!-- recommended: make the “rooms” explicit -->
          <div class="field span-2">
            <div class="label-row"><span class="label-text">Key rooms / forums where progression is decided</span><span class="hint-chip">rooms</span></div>
            <textarea class="textarea pb-input" id="c3_rooms" placeholder="Example: calibration meeting; leadership forum; quarterly planning; headcount review; project steering group."></textarea>
          </div>

          <div class="field span-2">
            <div class="label-row"><span class="label-text">Stakeholders who can validate you</span><span class="hint-chip">proof</span></div>
            <textarea class="textarea pb-input" id="c3_validators" placeholder="Example: Finance, Product, Ops lead, key client, peer manager (names/roles)."></textarea>
          </div>

          <div class="field span-2">
            <div class="label-row"><span class="label-text">Potential blockers / friction points</span><span class="hint-chip">risk</span></div>
            <textarea class="textarea pb-input" id="c3_blockers" placeholder="Example: someone threatened by your visibility; competing priorities; manager insecurity; unclear levelling."></textarea>
          </div>

          <div class="field span-2">
            <div class="label-row"><span class="label-text">Your leverage moves (quiet, clean, strategic)</span><span class="hint-chip">moves</span></div>
            <textarea class="textarea pb-input" id="c3_moves" placeholder="Example: align on outcomes; ask for decision rights; send concise win recaps; request stretch scope with guardrails; collect validator quotes."></textarea>
          </div>
        </div>

        <div class="insight-grid">
          <div class="insight">
            <i class="fas fa-chess"></i>
            <div>
              <b>Uncommon knowledge: “credit flow” matters</b>
              <span>People support what makes them look good. Route wins through your manager, then widen visibility. Don’t blindside them.</span>
            </div>
          </div>
          <div class="insight">
            <i class="fas fa-user-gear"></i>
            <div>
              <b>Personality / Behaviour lens</b>
              <span><b>High-control manager:</b> use written recaps + controlled trials. <b>Avoidant manager:</b> time-box and bring “2 options” so decisions happen.</span>
            </div>
          </div>
        </div>

        <div class="output-box">
          <div class="output-title">
            <h4><i class="fas fa-map"></i> Stakeholder plan (copy-ready)</h4>
            <div class="mini-row">
              <button class="pb-btn" type="button" onclick="buildStakeholderPlan()"><i class="fas fa-wand-magic-sparkles"></i> Build</button>
              <button class="pb-btn" type="button" onclick="copyText('out_stakeholders')"><i class="far fa-copy"></i> Copy</button>
            </div>
          </div>
          <div class="output-content" id="out_stakeholders">Click Build to generate a stakeholder plan.</div>
        </div>
      </section>

      <!-- CHAPTER 4 -->
      <section class="pb-card" id="c4">
        <div class="pb-card-header">
          <div>
            <div class="pb-card-title"><i class="fas fa-folder-open"></i> Chapter 4) Proof pack</div>
            <div class="pb-card-sub">
              Your proof pack is your career insurance. When memory gets fuzzy and politics get loud, evidence stays clean.
              Think: metrics, artefacts, and third-party validation.
            </div>
          </div>
          <div class="pb-done" data-module="c4"><i class="fas fa-check-circle"></i><span>Mark done</span></div>
        </div>

        <div class="field-grid">
          <div class="field span-2">
            <div class="label-row"><span class="label-text">Artefacts you can show</span><span class="hint-chip">assets</span></div>
            <textarea class="textarea pb-input" id="c4_assets" placeholder="Example: dashboards, process docs, roadmaps, playbooks, stakeholder comms, training materials, retros."></textarea>
          </div>

          <!-- recommended: explicitly capture leadership signals as evidence -->
          <div class="field span-2">
            <div class="label-row"><span class="label-text">Leadership signals you can evidence</span><span class="hint-chip">lead</span></div>
            <textarea class="textarea pb-input" id="c4_leadership" placeholder="Example: coaching others; owning decisions; cross-team alignment; crisis handling; simplifying complexity; protecting priorities."></textarea>
          </div>

          <div class="field">
            <div class="label-row"><span class="label-text">Before → After</span><span class="hint-chip">contrast</span></div>
            <input class="input pb-input" id="c4_beforeafter" placeholder="Example: 10 days → 7 days; chaos → cadence; reactive → predictable">
          </div>
          <div class="field">
            <div class="label-row"><span class="label-text">Third-party validation</span><span class="hint-chip">quotes</span></div>
            <input class="input pb-input" id="c4_quotes" placeholder="Example: “They’re the calm operator” — Director, Finance">
          </div>

          <div class="field span-2">
            <div class="label-row"><span class="label-text">Impact bullets (simple + defensible)</span><span class="hint-chip">bullets</span></div>
            <textarea class="textarea pb-input" id="c4_bullets" placeholder="Example: • Reduced X by Y% by doing Z • Delivered A under B constraints • Prevented risk C by implementing D"></textarea>
          </div>
        </div>

        <div class="insight-grid">
          <div class="insight">
            <i class="fas fa-file-signature"></i>
            <div>
              <b>Modern-day insight: proof beats “potential”</b>
              <span>In uncertain markets, companies promote people who can <b>demonstrate</b> value now. Your proof pack turns you into a safe bet.</span>
            </div>
          </div>
          <div class="insight">
            <i class="fas fa-wand-magic-sparkles"></i>
            <div>
              <b>AI advantage (ethical use)</b>
              <span>Use AI to tighten wording, extract bullets, and build clean summaries—but keep the facts yours. The signal is clarity, not “fancy”.</span>
            </div>
          </div>
        </div>

        <div class="output-box">
          <div class="output-title">
            <h4><i class="fas fa-folder-tree"></i> Proof pack outline + folder structure (copy-ready)</h4>
            <div class="mini-row">
              <button class="pb-btn" type="button" onclick="buildProofPack()"><i class="fas fa-wand-magic-sparkles"></i> Build</button>
              <button class="pb-btn" type="button" onclick="copyText('out_proof')"><i class="far fa-copy"></i> Copy</button>
            </div>
          </div>
          <div class="output-content" id="out_proof">Click Build to generate a proof pack outline.</div>
        </div>
      </section>

      <!-- CHAPTER 5 -->
      <section class="pb-card" id="c5">
        <div class="pb-card-header">
          <div>
            <div class="pb-card-title"><i class="fas fa-comment-dots"></i> Chapter 5) Scripts that move doors</div>
            <div class="pb-card-sub">
              The right sentence at the right time can change your trajectory. These scripts are designed to keep you calm, credible, and hard to dismiss.
            </div>
          </div>
          <div class="pb-done" data-module="c5"><i class="fas fa-check-circle"></i><span>Mark done</span></div>
        </div>

        <div class="insight-grid">
          <div class="insight">
            <i class="fas fa-lock"></i>
            <div><b>Neuro hack: reduce threat cues</b><span>People resist when they feel cornered. Use “alignment” language: <b>clarify</b>, <b>agree</b>, <b>decide</b>, <b>sequence</b>.</span></div>
          </div>
          <div class="insight">
            <i class="fas fa-user-check"></i>
            <div><b>Personality / Behaviour lens</b><span><b>Defensive manager:</b> “help me understand the evidence” (not “you’re wrong”). <b>Detail-heavy manager:</b> bring a 3-bullet summary + appendix.</span></div>
          </div>
        </div>

        <!-- recommended: script search for usability -->
        <div class="script-search">
          <input class="input" id="scriptSearch" placeholder="Search scripts (e.g., sponsor, scope, pay, feedback, progression)">
          <span class="hint-chip">quick filter</span>
        </div>

        <div class="acc" id="scriptsAcc">

          <div class="acc-item" data-search="progression path criteria timeline clarity">
            <button class="acc-head" type="button" data-acc="s1">
              <div class="acc-left">
                <div class="acc-icon"><i class="fas fa-route"></i></div>
                <div>
                  <div class="acc-title">Ask for the progression path (without sounding needy)</div>
                  <div class="acc-meta">Use when: you want criteria, timeline, and scope clarity.</div>
                </div>
              </div>
              <div class="acc-chevron"><i class="fas fa-chevron-down"></i></div>
            </button>
            <div class="acc-body" id="s1">
              <p><b>Positioning:</b> You’re asking for clarity so you can deliver what the business needs — not asking for permission to be ambitious.</p>
              <p><b>Tip:</b> Don’t ask “Do you think I’m ready?” Ask “What evidence would make you comfortable backing it?”</p>

              <div class="script-box">
                <div class="label"><i class="fas fa-copy"></i> Copy-ready script</div>
                <div class="script-text" id="script_s1">I’d like to align on my progression path to &lt;TARGET ROLE&gt;.  Can we agree the 3–4 signals you’d need to see to feel confident backing it, and the scope I should own to prove it?  If we set a simple timeline (for example, &lt;TIMELINE&gt;) I can focus my effort on the right outcomes, not just being busy.</div>
                <div class="mini-row">
                  <button class="pb-btn" type="button" onclick="copyText('script_s1')"><i class="far fa-copy"></i> Copy</button>
                </div>
              </div>
            </div>
          </div>

          <div class="acc-item" data-search="scope decision rights authority trial guardrails ownership">
            <button class="acc-head" type="button" data-acc="s2">
              <div class="acc-left">
                <div class="acc-icon"><i class="fas fa-user-shield"></i></div>
                <div>
                  <div class="acc-title">Ask for scope + decision rights (the hidden promotion trigger)</div>
                  <div class="acc-meta">Use when: you’re doing higher-level work but not getting the title.</div>
                </div>
              </div>
              <div class="acc-chevron"><i class="fas fa-chevron-down"></i></div>
            </button>
            <div class="acc-body" id="s2">
              <p><b>Positioning:</b> You’re removing bottlenecks and increasing throughput. Leaders like that.</p>
              <p><b>Pitfall:</b> Don’t demand authority. Offer a controlled trial with clear guardrails.</p>

              <div class="script-box">
                <div class="label"><i class="fas fa-copy"></i> Copy-ready script</div>
                <div class="script-text" id="script_s2">To increase delivery speed and reduce rework, I’d like to own &lt;SCOPE&gt; end-to-end with clear decision rights. Can we agree what I can decide independently, what needs your approval, and what “done” looks like?  Let’s run it for 4 weeks and review outcomes against &lt;MEASURES&gt;. If it works, we formalise the scope.</div>
                <div class="mini-row">
                  <button class="pb-btn" type="button" onclick="copyText('script_s2')"><i class="far fa-copy"></i> Copy</button>
                </div>
              </div>
            </div>
          </div>

          <div class="acc-item" data-search="wins memo visibility recall monthly recap availability bias">
            <button class="acc-head" type="button" data-acc="s3">
              <div class="acc-left">
                <div class="acc-icon"><i class="fas fa-file-lines"></i></div>
                <div>
                  <div class="acc-title">The “wins memo” (monthly signal amplifier)</div>
                  <div class="acc-meta">Use when: you need recall + visibility without being loud.</div>
                </div>
              </div>
              <div class="acc-chevron"><i class="fas fa-chevron-down"></i></div>
            </button>
            <div class="acc-body" id="s3">
              <p><b>Neuro logic:</b> availability bias. People promote what they remember.</p>
              <p><b>Format:</b> 6 lines max. No hype. Facts only.</p>

              <div class="script-box">
                <div class="label"><i class="fas fa-copy"></i> Copy-ready script</div>
                <div class="script-text" id="script_s3">Quick monthly recap (so you have it for leadership updates):  1) Outcomes delivered: &lt;OUTCOME 1&gt;, &lt;OUTCOME 2&gt;, &lt;OUTCOME 3&gt; 2) Risks removed / issues prevented: &lt;RISK&gt; 3) Stakeholder feedback: &lt;QUOTE&gt; 4) Next month focus: &lt;FOCUS&gt; 5) Where I need your decision: &lt;DECISION&gt;</div>
                <div class="mini-row">
                  <button class="pb-btn" type="button" onclick="copyText('script_s3')"><i class="far fa-copy"></i> Copy</button>
                </div>
              </div>
            </div>
          </div>

          <div class="acc-item" data-search="pay title compensation negotiation align scope market">
            <button class="acc-head" type="button" data-acc="s4">
              <div class="acc-left">
                <div class="acc-icon"><i class="fas fa-coins"></i></div>
                <div>
                  <div class="acc-title">Pay / title alignment (calm negotiation)</div>
                  <div class="acc-meta">Use when: scope has grown but compensation/title has not.</div>
                </div>
              </div>
              <div class="acc-chevron"><i class="fas fa-chevron-down"></i></div>
            </button>
            <div class="acc-body" id="s4">
              <p><b>Power move:</b> anchor to scope + market logic, not emotion.</p>
              <p><b>Pitfall:</b> don’t threaten to leave. Keep it businesslike. You can escalate later if needed.</p>

              <div class="script-box">
                <div class="label"><i class="fas fa-copy"></i> Copy-ready script</div>
                <div class="script-text" id="script_s4">I’d like to align role scope and compensation/title so it matches the level of responsibility I’m carrying.  Over the past &lt;TIME&gt;, I’ve been owning &lt;SCOPE&gt; and delivering &lt;PROOF&gt;.  What’s the cleanest path to bring my title/pay in line with the role level — and what would you need from me to support that decision?</div>
                <div class="mini-row">
                  <button class="pb-btn" type="button" onclick="copyText('script_s4')"><i class="far fa-copy"></i> Copy</button>
                </div>
              </div>
            </div>
          </div>

          <!-- missing/recommended: sponsor ask -->
          <div class="acc-item" data-search="sponsor endorse calibration backing advocacy">
            <button class="acc-head" type="button" data-acc="s5">
              <div class="acc-left">
                <div class="acc-icon"><i class="fas fa-handshake"></i></div>
                <div>
                  <div class="acc-title">Secure a sponsor (clean ask, no awkwardness)</div>
                  <div class="acc-meta">Use when: you need someone senior to advocate in rooms you’re not in.</div>
                </div>
              </div>
              <div class="acc-chevron"><i class="fas fa-chevron-down"></i></div>
            </button>
            <div class="acc-body" id="s5">
              <p><b>Positioning:</b> You’re making it easy for them to say yes: clear outcomes, clear timeline, low reputational risk.</p>
              <p><b>Tip:</b> Ask for <b>support conditioned on evidence</b>. That makes you safer to back.</p>

              <div class="script-box">
                <div class="label"><i class="fas fa-copy"></i> Copy-ready script</div>
                <div class="script-text" id="script_s5">I’m aiming for &lt;TARGET ROLE&gt; in the next &lt;TIMELINE&gt;. If I deliver &lt;OUTCOME 1&gt; and &lt;OUTCOME 2&gt;, would you be comfortable endorsing me in the relevant forums / calibration discussions? I’ll keep it simple: a monthly 6-line update so you have the facts when it matters.</div>
                <div class="mini-row">
                  <button class="pb-btn" type="button" onclick="copyText('script_s5')"><i class="far fa-copy"></i> Copy</button>
                </div>
              </div>
            </div>
          </div>

          <!-- missing/recommended: vague feedback / "not ready" -->
          <div class="acc-item" data-search="feedback not ready vague criteria evidence gate">
            <button class="acc-head" type="button" data-acc="s6">
              <div class="acc-left">
                <div class="acc-icon"><i class="fas fa-magnifying-glass"></i></div>
                <div>
                  <div class="acc-title">When you get vague feedback (“not yet”, “keep doing what you’re doing”)</div>
                  <div class="acc-meta">Use when: you need specific criteria and a decision date.</div>
                </div>
              </div>
              <div class="acc-chevron"><i class="fas fa-chevron-down"></i></div>
            </button>
            <div class="acc-body" id="s6">
              <p><b>Positioning:</b> You’re not arguing. You’re converting ambiguity into measurable evidence.</p>
              <p><b>Tip:</b> Always end with a <b>review date</b>. Otherwise you drift.</p>

              <div class="script-box">
                <div class="label"><i class="fas fa-copy"></i> Copy-ready script</div>
                <div class="script-text" id="script_s6">I want to make sure I’m focusing on the right evidence. When you say “not yet”, what are the specific 2–3 signals you’d need to see to feel comfortable backing &lt;TARGET ROLE&gt;? Can we agree how we’ll measure them, and set a review point on &lt;DATE / TIMELINE&gt; so this has a decision moment?</div>
                <div class="mini-row">
                  <button class="pb-btn" type="button" onclick="copyText('script_s6')"><i class="far fa-copy"></i> Copy</button>
                </div>
              </div>
            </div>
          </div>

          <!-- missing/recommended: no budget -->
          <div class="acc-item" data-search="no budget alternatives off-cycle review title scope bonus">
            <button class="acc-head" type="button" data-acc="s7">
              <div class="acc-left">
                <div class="acc-icon"><i class="fas fa-shield-halved"></i></div>
                <div>
                  <div class="acc-title">If they say “no budget” (keep momentum without losing position)</div>
                  <div class="acc-meta">Use when: pay can’t move now but you want a clean path.</div>
                </div>
              </div>
              <div class="acc-chevron"><i class="fas fa-chevron-down"></i></div>
            </button>
            <div class="acc-body" id="s7">
              <p><b>Power move:</b> turn “no budget” into a <b>sequence</b>: title/scope now, pay at a date, evidence agreed.</p>
              <p><b>Tip:</b> Avoid “so I’m stuck?” language. Keep it: options, trade-offs, timing.</p>

              <div class="script-box">
                <div class="label"><i class="fas fa-copy"></i> Copy-ready script</div>
                <div class="script-text" id="script_s7">Understood on budget. To keep this clean, can we agree a sequence? Option A: formalise the scope/title now, with an off-cycle pay review on &lt;DATE&gt; if I deliver &lt;EVIDENCE&gt;. Option B: if neither can move, what’s the closest alternative lever you can offer (bonus, retention adjustment, additional leave, funded training) — and when can we reopen the comp decision?</div>
                <div class="mini-row">
                  <button class="pb-btn" type="button" onclick="copyText('script_s7')"><i class="far fa-copy"></i> Copy</button>
                </div>
              </div>
            </div>
          </div>

        </div>
      </section>

      <!-- CHAPTER 6 -->
      <section class="pb-card" id="c6">
        <div class="pb-card-header">
          <div>
            <div class="pb-card-title"><i class="fas fa-scale-balanced"></i> Chapter 6) Process + pay advantage</div>
            <div class="pb-card-sub">
              This is the chapter most people avoid — then wonder why they’re stuck. You don’t need to be cynical.
              You need to understand how decisions are made so you can time your moves.
            </div>
          </div>
          <div class="pb-done" data-module="c6"><i class="fas fa-check-circle"></i><span>Mark done</span></div>
        </div>

        <div class="field-grid">
          <div class="field">
            <div class="label-row"><span class="label-text">Your company’s cycle (if known)</span><span class="hint-chip">timing</span></div>
            <input class="input pb-input" id="c6_cycle" placeholder="Example: quarterly reviews / annual comp / mid-year promotion window">
          </div>
          <div class="field">
            <div class="label-row"><span class="label-text">Your best internal route</span><span class="hint-chip">route</span></div>
            <input class="input pb-input" id="c6_route" placeholder="Example: promotion in-role / lateral move / new team / internal posting">
          </div>

          <!-- missing/recommended: negotiation anchors -->
          <div class="field">
            <div class="label-row"><span class="label-text">Market range (rough)</span><span class="hint-chip">£</span></div>
            <input class="input pb-input" id="c6_market" placeholder="Example: £65–75k (recruiter / peers / Glassdoor)">
          </div>
          <div class="field">
            <div class="label-row"><span class="label-text">Your ask (anchor)</span><span class="hint-chip">ask</span></div>
            <input class="input pb-input" id="c6_ask" placeholder="Example: £72k + title alignment / band move">
          </div>
          <div class="field">
            <div class="label-row"><span class="label-text">Your floor (minimum)</span><span class="hint-chip">min</span></div>
            <input class="input pb-input" id="c6_floor" placeholder="Example: £68k or title + off-cycle review date">
          </div>
          <div class="field">
            <div class="label-row"><span class="label-text">If they say “no budget”</span><span class="hint-chip">alt</span></div>
            <input class="input pb-input" id="c6_alts" placeholder="Example: title now; scope formalised; bonus; training; review date">
          </div>

          <div class="field span-2">
            <div class="label-row"><span class="label-text">What you suspect is the real gate</span><span class="hint-chip">gate</span></div>
            <textarea class="textarea pb-input" id="c6_gate" placeholder="Example: budget, headcount, manager confidence, lack of sponsor, unclear levelling, politics."></textarea>
          </div>

          <div class="field span-2">
            <div class="label-row"><span class="label-text">Your “advantage moves” (process-aware)</span><span class="hint-chip">adv</span></div>
            <textarea class="textarea pb-input" id="c6_adv" placeholder="Example: align before calibration; secure a sponsor quote; ask HR about levelling; time ask pre-budget; collect proof pack early."></textarea>
          </div>
        </div>

        <div class="insight-grid">
          <div class="insight">
            <i class="fas fa-circle-nodes"></i>
            <div>
              <b>Uncommon knowledge: calibration is a story battle</b>
              <span>Managers often compare people quickly. The winner has: <b>clear scope</b> + <b>clean proof</b> + <b>visible impact</b>.</span>
            </div>
          </div>
          <div class="insight">
            <i class="fas fa-money-bill-trend-up"></i>
            <div>
              <b>Pay truth: you get paid for replaceability</b>
              <span>It’s not “deserved”. It’s “what it costs to replace you”. Build scarce skills, visible outcomes, and external options quietly.</span>
            </div>
          </div>
        </div>

        <div class="output-box">
          <div class="output-title">
            <h4><i class="fas fa-diagram-project"></i> Advantage plan (copy-ready)</h4>
            <div class="mini-row">
              <button class="pb-btn" type="button" onclick="buildAdvantagePlan()"><i class="fas fa-wand-magic-sparkles"></i> Build</button>
              <button class="pb-btn" type="button" onclick="copyText('out_advantage')"><i class="far fa-copy"></i> Copy</button>
            </div>
          </div>
          <div class="output-content" id="out_advantage">Click Build to generate a short advantage plan.</div>
        </div>
      </section>

      <!-- CHAPTER 7 -->
      <section class="pb-card" id="c7">
        <div class="pb-card-header">
          <div>
            <div class="pb-card-title"><i class="fas fa-heart-pulse"></i> Chapter 7) Execution + wellbeing</div>
            <div class="pb-card-sub">
              Career acceleration that destroys your nervous system is not a win. This chapter locks in a rhythm that grows your position
              while keeping you steady.
            </div>
          </div>
          <div class="pb-done" data-module="c7"><i class="fas fa-check-circle"></i><span>Mark done</span></div>
        </div>

        <div class="pb-tabs" role="tablist" aria-label="Execution tabs">
          <button class="pb-tab active" type="button" data-tab="eA"><i class="fas fa-calendar-check"></i> 14-day plan</button>
          <button class="pb-tab" type="button" data-tab="eB"><i class="fas fa-shield-halved"></i> Boundary defence</button>
          <button class="pb-tab" type="button" data-tab="eC"><i class="fas fa-brain"></i> Neuro regulation</button>
        </div>

        <div class="pb-tab-panel active" id="eA">
          <div class="field-grid">
            <div class="field span-2">
              <div class="label-row"><span class="label-text">Your next 3 actions (tiny but high-leverage)</span><span class="hint-chip">next</span></div>
              <textarea class="textarea pb-input" id="c7_next3" placeholder="Example: book progression conversation; draft proof pack; send 6-line wins memo; ask for scope trial."></textarea>
            </div>
            <div class="field">
              <div class="label-row"><span class="label-text">Weekly cadence</span><span class="hint-chip">rhythm</span></div>
              <input class="input pb-input" id="c7_cadence" placeholder="Example: Mon plan, Wed update, Fri recap">
            </div>
            <div class="field">
              <div class="label-row"><span class="label-text">Visibility touchpoint</span><span class="hint-chip">signal</span></div>
              <input class="input pb-input" id="c7_touch" placeholder="Example: weekly 3-line update to manager + monthly wins memo">
            </div>
          </div>
        </div>

        <div class="pb-tab-panel" id="eB">
          <div class="pb-card-sub">
            <b>Boundary truth:</b> if your calendar is owned by other people, your career will drift.
          </div>
          <div class="field-grid">
            <div class="field span-2">
              <div class="label-row"><span class="label-text">Your boundary statement</span><span class="hint-chip">line</span></div>
              <textarea class="textarea pb-input" id="c7_boundary" placeholder="Example: I can take this on if we move X or extend the deadline. Which do you prefer?"></textarea>
            </div>
            <div class="field span-2">
              <div class="label-row"><span class="label-text">Your “no drama” rule</span><span class="hint-chip">rule</span></div>
              <textarea class="textarea pb-input" id="c7_rule" placeholder="Example: I don’t argue. I offer options, trade-offs, and written recap."></textarea>
            </div>
          </div>
        </div>

        <div class="pb-tab-panel" id="eC">
          <div class="insight-grid">
            <div class="insight">
              <i class="fas fa-wind"></i>
              <div><b>Downshift in 90 seconds</b><span>Before high-stakes conversations: slow breathing + longer exhale. You’re signalling safety to your own system.</span></div>
            </div>
            <div class="insight">
              <i class="fas fa-circle-check"></i>
              <div><b>Decision fatigue defence</b><span>Make fewer decisions at once. Use “next 2 steps only”. Clarity lowers stress and improves presence.</span></div>
            </div>
            <div class="insight">
              <i class="fas fa-mountain"></i>
              <div><b>Confidence hack: evidence review</b><span>Read your proof bullets before calls. The brain responds to data you give it.</span></div>
            </div>
            <div class="insight">
              <i class="fas fa-shield"></i>
              <div><b>Wellbeing boundary</b><span>Pick one protected block each week for your proof pack / progression work. Treat it as non-negotiable.</span></div>
            </div>
          </div>

          <div class="field-grid" style="margin-top:12px;">
            <div class="field span-2">
              <div class="label-row"><span class="label-text">Your stabiliser routine (small + repeatable)</span><span class="hint-chip">steady</span></div>
              <textarea class="textarea pb-input" id="c7_stabiliser" placeholder="Example: 10-min plan; 6-line update; 15-min proof pack build; end-of-day shutdown note."></textarea>
            </div>

            <!-- missing/recommended: early warning signals -->
            <div class="field span-2">
              <div class="label-row"><span class="label-text">Early warning signs (catch burnout early)</span><span class="hint-chip">flag</span></div>
              <textarea class="textarea pb-input" id="c7_warn" placeholder="Example: sleep drops, irritability, racing thoughts, procrastination, doom-scrolling, late-night work, emotional reactivity."></textarea>
            </div>
          </div>
        </div>

        <div class="output-box">
          <div class="output-title">
            <h4><i class="fas fa-file-lines"></i> Career one-pager (final output)</h4>
            <div class="mini-row">
              <button class="pb-btn" type="button" onclick="buildOnePager()"><i class="fas fa-wand-magic-sparkles"></i> Build</button>
              <button class="pb-btn" type="button" onclick="copyText('out_onepager')"><i class="far fa-copy"></i> Copy</button>
            </div>
          </div>
          <div class="output-content" id="out_onepager">Click Build to generate your career one-pager.</div>
        </div>
      </section>

    </main>
  </div>
</div>

<!-- MY PLAYBOOK SIDEBAR -->
<div class="playbook-sidebar-overlay" id="playbookOverlay">
  <div class="playbook-sidebar" id="playbookSidebar" role="dialog" aria-modal="true" aria-label="My Playbook">
    <div class="playbook-sidebar-header">
      <div class="playbook-sidebar-header-title-row">
        <h3>My Playbook</h3>
        <button class="playbook-close-btn" id="closePlaybook" aria-label="Close My Playbook">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <p>Saved items</p>
    </div>

    <div class="playbook-sidebar-body">
      <div id="savedItemsContainer">
        <p class="saved-items-empty" id="savedItemsEmpty">
          You haven’t saved anything yet. Use <strong>Save</strong> on tools you want quick access to.
        </p>
        <ul class="saved-items-list" id="savedItemsList"></ul>
      </div>

      <div class="playbook-quick-links">
        <div class="playbook-quick-links-header">
          <span class="quick-links-title">Quick links</span>
        </div>
        <div class="playbook-quick-links-list">
          <a href="dashboard.html" class="quick-link-pill"><i class="fas fa-gauge"></i> The Dashboard</a>
          <a href="the-lens.html" class="quick-link-pill"><i class="fas fa-search"></i> The Lens</a>
          <a href="the-toolkit.html" class="quick-link-pill"><i class="fas fa-toolbox"></i> The Toolkit</a>
          <a href="the-coach.html" class="quick-link-pill"><i class="fas fa-comments"></i> The Coach</a>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="my-playbook-fab" id="myPlaybookButton">
  <i class="fas fa-book-open"></i>
  <span>My Playbook</span>
</div>

<footer>
  <div class="container">
    <p>© 2025 The Employee Playbook. All rights reserved.</p>
  </div>
</footer>

<script>
/* ============ JS (complete, no syntax errors) ============ */
(function () {
  const PAGE_KEY = 'career-advancement-playbook';
  const LS_THEME = 'theme';
  const LS_SAVED = 'tep_saved_items';
  const LS_INPUTS = 'pb_inputs_' + PAGE_KEY;
  const LS_DONE = 'pb_modules_done_' + PAGE_KEY;

  const $ = (id) => document.getElementById(id);
  const body = document.body;
  const root = document.documentElement;

  window.addEventListener('DOMContentLoaded', () => {
    body.classList.add('loaded');
    syncThemeIcon();
    restoreInputs();
    restoreDone();
    syncSaveState();
    renderSavedItems();
    wireEvents();
    updateProgress();
  });

  function isDark() { return root.classList.contains('dark-mode'); }
  function setTheme(mode) {
    if (mode === 'dark') root.classList.add('dark-mode');
    else root.classList.remove('dark-mode');
    try { localStorage.setItem(LS_THEME, mode); } catch (e) {}
    syncThemeIcon();
  }
  function syncThemeIcon() {
    const btn = $('themeToggleBtn');
    if (!btn) return;
    btn.innerHTML = isDark() ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
  }

  function toggleNav() {
    const navLinks = $('navLinks');
    if (!navLinks) return;
    navLinks.classList.toggle('active');
  }

  function getSaved() {
    try {
      const raw = localStorage.getItem(LS_SAVED);
      const parsed = raw ? JSON.parse(raw) : [];
      return Array.isArray(parsed) ? parsed : [];
    } catch (e) { return []; }
  }
  function setSaved(items) {
    try { localStorage.setItem(LS_SAVED, JSON.stringify(items)); } catch (e) {}
  }

  function thisItem() {
    return {
      id: PAGE_KEY,
      title: 'Career Advancement Playbook',
      type: 'Playbook',
      href: window.location.href,
      meta: 'Decision Making & Career Path',
      ts: Date.now()
    };
  }

  function isSaved() { return getSaved().some(x => x && x.id === PAGE_KEY); }

  function setSaveButton(saved) {
    const btn = $('saveBtn');
    if (!btn) return;

    btn.classList.toggle('saved', saved);

    const icon = btn.querySelector('i');
    if (icon) icon.className = saved ? 'fa-solid fa-bookmark' : 'fa-regular fa-bookmark';

    const label = btn.querySelector('.save-label');
    if (label) label.textContent = saved ? 'Saved' : 'Save';

    btn.setAttribute('aria-pressed', saved ? 'true' : 'false');
  }

  function toggleSave() {
    const items = getSaved();
    const idx = items.findIndex(x => x && x.id === PAGE_KEY);
    if (idx >= 0) {
      items.splice(idx, 1);
      setSaved(items);
      setSaveButton(false);
    } else {
      items.unshift(thisItem());
      setSaved(items);
      setSaveButton(true);
    }
    renderSavedItems();
  }

  function syncSaveState() { setSaveButton(isSaved()); }

  function openSidebar() {
    $('playbookOverlay')?.classList.add('open');
    $('playbookSidebar')?.classList.add('open');
    document.body.style.overflow = 'hidden';
  }
  function closeSidebar() {
    $('playbookOverlay')?.classList.remove('open');
    $('playbookSidebar')?.classList.remove('open');
    document.body.style.overflow = '';
  }

  function renderSavedItems() {
    const list = $('savedItemsList');
    const empty = $('savedItemsEmpty');
    if (!list || !empty) return;

    const items = getSaved();
    list.innerHTML = '';
    empty.style.display = items.length ? 'none' : 'block';

    items.forEach(item => {
      if (!item) return;
      const li = document.createElement('li');
      li.className = 'saved-item';
      li.innerHTML = `
        <div class="saved-item-title-row">
          <div class="saved-item-title">${escapeHtml(item.title || 'Saved item')}</div>
          <div class="saved-item-type">${escapeHtml(item.type || 'Item')}</div>
        </div>
        <div class="saved-item-meta">${escapeHtml(item.meta || '')}</div>
        <a class="saved-item-link" href="${escapeAttr(item.href || '#')}"><i class="fas fa-arrow-up-right-from-square"></i> Open</a>
      `;
      list.appendChild(li);
    });
  }

  function restoreInputs() {
    let data = {};
    try {
      const raw = localStorage.getItem(LS_INPUTS);
      data = raw ? JSON.parse(raw) : {};
    } catch (e) { data = {}; }

    document.querySelectorAll('.pb-input').forEach(el => {
      if (!el.id) return;
      if (data[el.id] != null) el.value = data[el.id];
    });
  }
  function saveInputs() {
    const data = {};
    document.querySelectorAll('.pb-input').forEach(el => {
      if (!el.id) return;
      data[el.id] = el.value || '';
    });
    try { localStorage.setItem(LS_INPUTS, JSON.stringify(data)); } catch (e) {}
  }

  function getDone() {
    try {
      const raw = localStorage.getItem(LS_DONE);
      const arr = raw ? JSON.parse(raw) : [];
      return Array.isArray(arr) ? arr : [];
    } catch (e) { return []; }
  }
  function setDone(arr) { try { localStorage.setItem(LS_DONE, JSON.stringify(arr)); } catch (e) {} }

  function restoreDone() {
    const done = new Set(getDone());

    document.querySelectorAll('.pb-done[data-module]').forEach(btn => {
      const m = btn.getAttribute('data-module');
      if (!m) return;
      const isDone = done.has(m);
      btn.dataset.done = isDone ? 'true' : 'false';
      const span = btn.querySelector('span');
      if (span) span.textContent = isDone ? 'Done' : 'Mark done';
    });

    ['c1','c2','c3','c4','c5','c6','c7'].forEach(m => {
      const st = $('st-' + m);
      if (!st) return;
      const yes = done.has(m);
      st.textContent = yes ? 'done' : 'open';
      st.classList.toggle('done', yes);
    });
  }

  function toggleDone(moduleId) {
    const done = new Set(getDone());
    if (done.has(moduleId)) done.delete(moduleId);
    else done.add(moduleId);
    setDone(Array.from(done));
    restoreDone();
    updateProgress();
  }

  function updateProgress() {
    const done = new Set(getDone());
    const total = 7;
    const count = ['c1','c2','c3','c4','c5','c6','c7'].filter(m => done.has(m)).length;
    const pct = Math.round((count / total) * 100);

    const ring = $('progressRing');
    const pctEl = $('progressPct');
    const label = $('progressLabel');

    if (pctEl) pctEl.textContent = pct + '%';
    if (ring) {
      const deg = Math.round((pct / 100) * 360);
      ring.style.background = `conic-gradient(var(--accent-purple) 0deg, var(--accent-purple) ${deg}deg, var(--pb-ring-rest) ${deg}deg)`;
    }
    if (label) label.textContent = pct === 0 ? 'Not started' : (pct === 100 ? 'Complete' : 'In progress');
  }

  function setActiveTabScoped(containerEl, tabId) {
    containerEl.querySelectorAll('.pb-tab').forEach(b => b.classList.toggle('active', b.dataset.tab === tabId));
    containerEl.querySelectorAll('.pb-tab-panel').forEach(p => p.classList.toggle('active', p.id === tabId));
  }

  window.copyText = async function (id) {
    const el = $(id);
    if (!el) return;
    const text = (el.textContent || '').trim();
    try {
      await navigator.clipboard.writeText(text);
      toast('Copied');
    } catch (e) {
      fallbackCopy(text);
      toast('Copied');
    }
  };

  function fallbackCopy(text) {
    const ta = document.createElement('textarea');
    ta.value = text;
    ta.style.position = 'fixed';
    ta.style.left = '-9999px';
    document.body.appendChild(ta);
    ta.select();
    try { document.execCommand('copy'); } catch (e) {}
    document.body.removeChild(ta);
  }

  function resetAll() {
    try {
      localStorage.removeItem(LS_INPUTS);
      localStorage.removeItem(LS_DONE);
    } catch (e) {}
    document.querySelectorAll('.pb-input').forEach(el => el.value = '');

    const resetText = (id, txt) => { if ($(id)) $(id).textContent = txt; };
    resetText('out_northstar', 'Click Build to generate your Career North Star.');
    resetText('out_positioning', 'Click Build to generate a short positioning paragraph.');
    resetText('out_stakeholders', 'Click Build to generate a stakeholder plan.');
    resetText('out_proof', 'Click Build to generate a proof pack outline.');
    resetText('out_advantage', 'Click Build to generate a short advantage plan.');
    resetText('out_onepager', 'Click Build to generate your career one-pager.');

    // reset script search + close accordions
    const ss = $('scriptSearch');
    if (ss) ss.value = '';
    filterScripts('');

    document.querySelectorAll('.acc-body.open').forEach(b => b.classList.remove('open'));
    document.querySelectorAll('.acc-chevron i').forEach(i => i.className = 'fas fa-chevron-down');

    restoreDone();
    updateProgress();
  }

  function condense(text) { return String(text || '').replace(/\s+/g, ' ').trim(); }
  function safeLine(text) { return condense(text); }

  window.buildNorthStar = function () {
    const now = safeLine($('c1_now')?.value);
    const target = safeLine($('c1_target')?.value);
    const timeline = safeLine($('c1_timeline')?.value);
    const nonneg = safeLine($('c1_nonneg')?.value);
    const decider = safeLine($('c1_decider')?.value);
    const yes = safeLine($('c1_yes')?.value);
    const whynow = condense($('c1_whynow')?.value);
    const bet = condense($('c1_bet')?.value);

    const lines = [];
    lines.push(`CAREER NORTH STAR`);
    if (now) lines.push(`Current: ${now}`);
    if (target) lines.push(`Next: ${target}`);
    if (timeline) lines.push(`Timeline: ${timeline}`);
    if (decider) lines.push(`Decision-maker(s): ${decider}`);
    if (yes) lines.push(`“Yes” criteria: ${yes}`);
    if (nonneg) lines.push(`Non-negotiables: ${nonneg}`);
    if (whynow) lines.push(`Why now (credibility): ${whynow}`);
    if (bet) lines.push(`Skill bet: ${bet}`);
    lines.push(`Operating rule: I will optimise for signals (outcomes, reliability, leadership), not just effort.`);

    const out = lines.filter(Boolean).join('\n');
    if ($('out_northstar')) $('out_northstar').textContent = out;
  };

  window.buildPositioning = function () {
    const headline = safeLine($('c2_headline')?.value);
    const brand = safeLine($('c2_brand')?.value);
    const nextbeh = safeLine($('c2_nextbeh')?.value);
    const outcomes = condense($('c2_outcomes')?.value);
    const numbers = safeLine($('c2_numbers')?.value);
    const reliability = condense($('c2_reliability')?.value);
    const story = condense($('c2_story')?.value);

    const parts = [];
    if (headline) parts.push(`10-second opener: ${headline}.`);
    parts.push(`My value: I’m known for ${brand || 'turning complexity into clear execution'}.`);
    if (outcomes) parts.push(`Recent impact: ${condense(outcomes)}${numbers ? ` (${numbers}).` : '.'}`);
    if (reliability) parts.push(`Reliability signal: ${condense(reliability)}.`);
    if (nextbeh) parts.push(`Next-level behaviour: I will operate as ${nextbeh}.`);
    if (story) parts.push(`Reputation anchor: ${condense(story)}.`);

    const out = parts.filter(Boolean).join(' ');
    if ($('out_positioning')) $('out_positioning').textContent = out || 'Add a few fields, then click Build.';
  };

  window.buildStakeholderPlan = function () {
    const sponsor = safeLine($('c3_sponsor')?.value);
    const mgrInc = safeLine($('c3_mgr_incentive')?.value);
    const rooms = condense($('c3_rooms')?.value);
    const validators = condense($('c3_validators')?.value);
    const blockers = condense($('c3_blockers')?.value);
    const moves = condense($('c3_moves')?.value);

    const lines = [];
    lines.push(`STAKEHOLDER / LEVERAGE PLAN`);
    if (sponsor) lines.push(`Sponsor candidate: ${sponsor}`);
    if (mgrInc) lines.push(`Manager incentive: ${mgrInc}`);
    if (rooms) lines.push(`Decision rooms/forums: ${rooms}`);
    if (validators) lines.push(`Validators: ${validators}`);
    if (blockers) lines.push(`Potential blockers / friction: ${blockers}`);
    if (moves) lines.push(`Leverage moves: ${moves}`);
    lines.push(`Operating rule: widen visibility without blindsiding your manager — keep credit flow clean.`);

    const out = lines.join('\n');
    if ($('out_stakeholders')) $('out_stakeholders').textContent = out || 'Add a few fields, then click Build.';
  };

  window.buildProofPack = function () {
    const assets = condense($('c4_assets')?.value);
    const leadership = condense($('c4_leadership')?.value);
    const beforeAfter = safeLine($('c4_beforeafter')?.value);
    const quotes = safeLine($('c4_quotes')?.value);
    const bullets = condense($('c4_bullets')?.value);

    const lines = [];
    lines.push(`PROOF PACK OUTLINE`);
    lines.push(`1) 3 impact bullets (defensible):`);
    lines.push(bullets ? bullets : '• (add 3 bullets here)');
    if (leadership) {
      lines.push(`\nLeadership signals evidenced:`);
      lines.push(leadership);
    }
    lines.push(`\n2) Before → After:`);
    lines.push(beforeAfter ? beforeAfter : '(add contrast)');
    lines.push(`\n3) Artefacts / assets:`);
    lines.push(assets ? assets : '(add artefacts)');
    lines.push(`\n4) Third-party validation:`);
    lines.push(quotes ? quotes : '(add quote)');

    // recommended: folder structure so proof stays organised
    lines.push(`\n\nSUGGESTED FOLDER STRUCTURE (copy/paste)`);
    lines.push(`Proof-Pack/`);
    lines.push(`  01-Impact-Bullets.txt`);
    lines.push(`  02-Before-After.txt`);
    lines.push(`  03-Artefacts/`);
    lines.push(`    - Dashboards/`);
    lines.push(`    - Docs-and-Processes/`);
    lines.push(`    - Stakeholder-Comms/`);
    lines.push(`    - Training-and-Coaching/`);
    lines.push(`  04-Validation/`);
    lines.push(`    - Quotes-and-Emails/`);
    lines.push(`  05-Leadership-Signals.txt`);
    lines.push(`  06-Wins-Memos/`);

    const out = lines.join('\n');
    if ($('out_proof')) $('out_proof').textContent = out || 'Add a few fields, then click Build.';
  };

  window.buildAdvantagePlan = function () {
    const cycle = safeLine($('c6_cycle')?.value);
    const route = safeLine($('c6_route')?.value);
    const market = safeLine($('c6_market')?.value);
    const ask = safeLine($('c6_ask')?.value);
    const floor = safeLine($('c6_floor')?.value);
    const alts = safeLine($('c6_alts')?.value);
    const gate = condense($('c6_gate')?.value);
    const adv = condense($('c6_adv')?.value);

    const lines = [];
    lines.push(`PROCESS + PAY ADVANTAGE PLAN`);
    if (cycle) lines.push(`Cycle timing: ${cycle}`);
    if (route) lines.push(`Best route: ${route}`);
    if (market) lines.push(`Market range: ${market}`);
    if (ask) lines.push(`Your ask (anchor): ${ask}`);
    if (floor) lines.push(`Your floor: ${floor}`);
    if (alts) lines.push(`If “no budget”: ${alts}`);
    if (gate) lines.push(`Real gate (likely): ${gate}`);
    if (adv) lines.push(`Advantage moves: ${adv}`);
    lines.push(`Rule: time the ask before decisions harden (budget/calibration), not after.`);

    const out = lines.join('\n');
    if ($('out_advantage')) $('out_advantage').textContent = out || 'Add a few fields, then click Build.';
  };

  window.buildOnePager = function () {
    if (($('out_northstar')?.textContent || '').includes('Click Build')) window.buildNorthStar();
    if (($('out_positioning')?.textContent || '').includes('Click Build')) window.buildPositioning();
    if (($('out_stakeholders')?.textContent || '').includes('Click Build')) window.buildStakeholderPlan();
    if (($('out_proof')?.textContent || '').includes('Click Build')) window.buildProofPack();
    if (($('out_advantage')?.textContent || '').includes('Click Build')) window.buildAdvantagePlan();

    const next3 = condense($('c7_next3')?.value);
    const cadence = safeLine($('c7_cadence')?.value);
    const touch = safeLine($('c7_touch')?.value);
    const boundary = condense($('c7_boundary')?.value);
    const stabiliser = condense($('c7_stabiliser')?.value);
    const warn = condense($('c7_warn')?.value);

    const one = ($('out_northstar')?.textContent || '').trim();
    const pos = ($('out_positioning')?.textContent || '').trim();
    const st = ($('out_stakeholders')?.textContent || '').trim();
    const pf = ($('out_proof')?.textContent || '').trim();
    const adv = ($('out_advantage')?.textContent || '').trim();

    const lines = [];
    lines.push(`CAREER ADVANCEMENT ONE-PAGER`);
    lines.push(`================================`);
    lines.push(one);
    lines.push(`\nPOSITIONING`);
    lines.push(pos);
    lines.push(`\nLEVERAGE`);
    lines.push(st);
    lines.push(`\nPROOF PACK`);
    lines.push(pf);
    lines.push(`\nPROCESS + PAY ADVANTAGE`);
    lines.push(adv);
    lines.push(`\nEXECUTION (NEXT 14 DAYS)`);
    lines.push(next3 ? next3 : '(add next 3 actions)');
    if (cadence) lines.push(`Cadence: ${cadence}`);
    if (touch) lines.push(`Visibility touchpoint: ${touch}`);
    if (boundary) lines.push(`Boundary statement: ${boundary}`);
    if (stabiliser) lines.push(`Stabiliser routine: ${stabiliser}`);
    if (warn) lines.push(`Early warning signs: ${warn}`);
    lines.push(`\nOperating rule: keep it calm, keep it written, keep it measurable.`);

    const out = lines.join('\n');
    if ($('out_onepager')) $('out_onepager').textContent = out;
  };

  function collectOnePager() {
    return (($('out_onepager')?.textContent || '').trim() || 'Build your one-pager first (Chapter 7).');
  }

  function toast(msg) {
    const t = document.createElement('div');
    t.textContent = msg;
    t.style.position = 'fixed';
    t.style.bottom = '18px';
    t.style.left = '50%';
    t.style.transform = 'translateX(-50%)';
    t.style.padding = '10px 14px';
    t.style.borderRadius = '999px';
    t.style.background = 'rgba(0,0,0,0.78)';
    t.style.color = '#fff';
    t.style.fontSize = '12px';
    t.style.fontWeight = '700';
    t.style.zIndex = '2000';
    t.style.boxShadow = '0 10px 25px rgba(0,0,0,0.25)';
    document.body.appendChild(t);
    setTimeout(() => { t.style.opacity = '0'; t.style.transition = 'opacity .25s ease'; }, 900);
    setTimeout(() => { try { document.body.removeChild(t); } catch(e){} }, 1200);
  }

  function escapeHtml(s) {
    return String(s ?? '')
      .replace(/&/g, '&amp;')
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')
      .replace(/"/g, '&quot;')
      .replace(/'/g, '&#039;');
  }
  function escapeAttr(s) { return escapeHtml(s).replace(/"/g, '&quot;'); }

  function toggleAccordion(id) {
    const bodyEl = $(id);
    if (!bodyEl) return;
    const open = bodyEl.classList.toggle('open');

    const head = document.querySelector(`.acc-head[data-acc="${id}"]`);
    if (head) {
      const icon = head.querySelector('.acc-chevron i');
      if (icon) icon.className = open ? 'fas fa-chevron-up' : 'fas fa-chevron-down';
    }
  }

  function filterScripts(q) {
    const query = String(q || '').trim().toLowerCase();
    document.querySelectorAll('#scriptsAcc .acc-item').forEach(item => {
      const hay = (item.getAttribute('data-search') || item.textContent || '').toLowerCase();
      item.style.display = (!query || hay.includes(query)) ? '' : 'none';
    });
  }

  function wireEvents() {
    $('themeToggleBtn')?.addEventListener('click', () => setTheme(isDark() ? 'light' : 'dark'));
    $('mobileToggleBtn')?.addEventListener('click', toggleNav);

    document.querySelectorAll('#navLinks a.nav-link, #navLinks a.mobile-sign-in, #navLinks a.mobile-sign-up')
      .forEach(a => a.addEventListener('click', () => $('navLinks')?.classList.remove('active')));

    $('saveBtn')?.addEventListener('click', toggleSave);

    $('myPlaybookButton')?.addEventListener('click', openSidebar);
    $('closePlaybook')?.addEventListener('click', closeSidebar);

    $('playbookOverlay')?.addEventListener('click', (e) => {
      if (e.target === $('playbookOverlay')) closeSidebar();
    });

    document.querySelectorAll('.pb-input').forEach(el => el.addEventListener('input', saveInputs));

    document.querySelectorAll('.pb-done[data-module]').forEach(btn => {
      btn.addEventListener('click', () => {
        const m = btn.getAttribute('data-module');
        if (m) toggleDone(m);
      });
    });

    document.querySelectorAll('.pb-card').forEach(card => {
      const tabs = card.querySelectorAll('.pb-tab');
      const panels = card.querySelectorAll('.pb-tab-panel');
      if (!tabs.length || !panels.length) return;

      tabs.forEach(btn => btn.addEventListener('click', () => {
        const id = btn.dataset.tab;
        if (!id) return;
        setActiveTabScoped(card, id);
      }));
    });

    document.querySelectorAll('.acc-head[data-acc]').forEach(btn => {
      btn.addEventListener('click', () => {
        const id = btn.getAttribute('data-acc');
        if (id) toggleAccordion(id);
      });
    });

    $('copyAllBtn')?.addEventListener('click', async () => {
      if (($('out_onepager')?.textContent || '').includes('Click Build')) window.buildOnePager();
      const text = collectOnePager();
      try { await navigator.clipboard.writeText(text); toast('Copied one-pager'); }
      catch (e) { fallbackCopy(text); toast('Copied one-pager'); }
    });

    $('resetBtn')?.addEventListener('click', resetAll);

    // script search
    $('scriptSearch')?.addEventListener('input', (e) => filterScripts(e.target.value));
  }
})();
</script>

</body>
</html>
